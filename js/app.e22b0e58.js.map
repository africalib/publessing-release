{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Box.vue?d1bd","webpack:///./src/components/Loading.vue?003d","webpack:///./src/modals/Viewer.vue?0a08","webpack:///./src/components/Ground.vue?cb6f","webpack:///./src/modals/Join.vue?bc5a","webpack:///./src/components/Editor.vue?6750","webpack:///./src/App.vue","webpack:///./src/components/Ground.vue","webpack:///./src/components/Console.vue","webpack:///./src/components/Toggle.vue","webpack:///./src/components/Toggle.vue?1a8f","webpack:///./src/components/Editor.vue","webpack:///./src/global.js","webpack:///./src/libs/commonLib.js","webpack:///./src/libs/httpLib.js","webpack:///./src/components/Editor.vue?0217","webpack:///./src/components/File.vue","webpack:///./src/components/File.vue?b8f4","webpack:///./src/components/Command.vue","webpack:///./src/components/Command.vue?20a8","webpack:///./src/components/Box.vue","webpack:///./src/components/Box.vue?f11c","webpack:///./src/components/Console.vue?bd05","webpack:///./src/components/Webview.vue","webpack:///./src/components/Loading.vue","webpack:///./src/components/Loading.vue?2fa0","webpack:///./src/components/Webview.vue?8297","webpack:///./src/components/Home.vue","webpack:///./src/components/Home.vue?611e","webpack:///./src/modals/Join.vue","webpack:///./src/modals/Join.vue?fabc","webpack:///./src/modals/Login.vue","webpack:///./src/modals/Login.vue?79a4","webpack:///./src/modals/Comment.vue","webpack:///./src/modals/Comment.vue?1b3f","webpack:///./src/modals/Viewer.vue","webpack:///./src/modals/Viewer.vue?d85e","webpack:///./src/components/Ground.vue?0bdc","webpack:///./src/App.vue?97f5","webpack:///./src/store.js","webpack:///./src/main.js","webpack:///./src/components/Home.vue?6d82","webpack:///./src/modals/Comment.vue?1895","webpack:///./src/components/Command.vue?3b88","webpack:///./src/components/Toggle.vue?052f","webpack:///./src/components/Webview.vue?8262","webpack:///./src/components/Console.vue?01ee","webpack:///./src/modals/Login.vue?5faf","webpack:///./src/components/File.vue?d310"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","title","style","state","store","page","ref","postback","login","account","callback","modal","size","closeModal","$event","viewer","src","aria-hidden","dragging","folded","position","text","active","toggle","tag","toggleTag","disabled","outline","toggleOutline","changePosition","setFullScreen","fold","tabs","idx","activeTab","selectTab","toUpperCase","substring","selectionTagName","editor","selectionTagIdx","sector","custom","fullScreen","className","click","props","String","Function","Boolean","setup","undefined","change","render","__scopeId","editorLangs","lang","selectLang","pushCodes","global","site","host","url","defines","commands","node","beforeLogin","beforePage","afterPage","cmd","min","max","item","space","desc","args","console","lib","isNumeric","str","toString","isNaN","parseFloat","isOnlyAlphabetString","test","isValidEmail","email","re","toLowerCase","getStrToArray","separator1","separator2","arr1","split","x","arr2","y","getRenewed","JSON","parse","stringify","getTextReplacedDoubleSpacesToSingle","includes","replaceAll","timer","message","show","head","txt","$message","$","width","hide","html","document","body","insertAdjacentHTML","find","on","css","removeAttr","addClass","stop","animate","right","clearInterval","setTimeout","isTextSelected","elem","selectionStart","selectionEnd","selection","createRange","copy","$copyText","createElement","setAttribute","appendChild","select","execCommand","remove","postForm","$form","keys","$input","submit","cookie","end","start","indexOf","unescape","set","days","expires","domain","date","Date","setTime","getTime","toGMTString","parameters","params","token","commLib","headers","withCredentials","warn","axios","post","URLSearchParams","config","val","trim","append","delete","postFile","formData","monaco","codeEditor","Number","emits","context","init","codes","javascript","wrapperRef","setCodes","seq","nid","httpLib","then","res","setMonacoValue","model","getModels","setValue","setModelLanguage","setScrollPosition","scrollTop","getAction","run","setSelection","emit","refs","webview","load","catch","err","response","status","tagName","getValue","$elem","eq","tagHtml","outerHTML","htmlLines","tagHtmlLines","lineNumStart","lineNumEnd","loop","i1","t11","i2","t21","t12","t22","Selection","revealLineInCenter","force","theme","lineNumbers","automaticLayout","renderIndentGuides","fixedOverflowWidgets","hover","enabled","minimap","padding","top","onDidChangeModelContent","after","before","comments","b","startsWith","endsWith","a","addCommand","KeyMod","CtrlCmd","KeyCode","KEY_S","Alt","KEY_C","KEY_P","KEY_R","Shift","KEY_1","KEY_2","KEY_3","KEY_W","forEach","dispose","attach","type","accept","multiple","files","f","fileRef","fileName","confirm","e","target","FormData","Array","isArray","history","list","placeholder","keyPressInTextarea","keyDownInTextarea","spellcheck","loaded","index","processes","defined","consoleBeforeLoginCmds","map","consoleBeforePageCmds","consoleAfterPageCmds","consoleWordDefines","consoleWordDefinesCmds","nodeWordDefines","nodeWordDefinesCmds","commandRef","textareaRef","historyRef","textRef","runCommands","command","commandLines","runCommand","appendLastHistory","reloadCodes","editorRef","clearHistory","selectComponents","componentCategory","consoleRef","myComponentBoxRef","categories","setCategory","componentBoxRef","selectTemplates","templateCategory","myTemplateBoxRef","templateBoxRef","numbers","commandWords","num","postMessage","category","replace","commit","error","obj","created","updated","maxSeq","reloadComponents","join","focus","shiftKey","preventDefault","ctrlKey","arr","texts","runnableCommands","wordDefines","wordDefine","lastWord","consoleWordCms","filter","keyword","resize","resultMinHeight","height","offsetHeight","getBoundingClientRect","scrollHeight","adjust","location","hash","tempRun","watch","handler","deep","component","components","imgUrl","setComponent","tags","badgets","charCodeAt","zoom","read","filterRef","inputRef","listRef","parentNode","classList","closeComponent","paddingTop","getComputedStyle","getPropertyValue","querySelector","setComponents","setCategories","this","Toggle","Command","Editor","File","Box","sideSize","sideMinSize","sideMaxSize","innerWidth","bottomSize","bottomMinSize","bottomMaxSize","innerHeight","defaultOpened","defaultPosition","cookieOpened","cookiePosition","grabRef","toggleTagRef","toggleOutlineRef","tab","prevent","sessionWidth","sessionStorage","getItem","paddingLeft","paddingBottom","sessionHeight","startX","startWidth","startY","startHeight","initDrag","clientY","parseInt","defaultView","clientX","documentElement","addEventListener","doDrag","stopDrag","setItem","removeEventListener","initUrl","script","Loading","iframeRef","reload","contentWindow","value1","value2","value3","value4","onload","definedCommands","sort","for","step","id","autocomplete","send","loading","code","keyup","verify","maxlength","password","confirmPassword","emailRef","keyCode","getElementById","tabindex","comment","count","writer","mid","insDate","ago","expand","slide","setStyle","angleStyle","move","display","direction","Console","Webview","Join","Login","Comment","Viewer","Home","visible","template","webviewRef","viewerRef","webviewTag","webviewOutline","contains","checkLogin","go","origin","hashArr","pageName","sequence","refresh","setNodeId","keydownAlt","keyNum","undo","keydownAltShift","redo","val1","val2","val3","val4","textArr","base64image","save","blur","altKey","onhashchange","Ground","createStore","mutations","setRefs","setPage","setToggle","payload","createApp","App","use","mount"],"mappings":"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","file":"js/app.e22b0e58.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Box.vue?vue&type=style&index=0&id=748712e1&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Loading.vue?vue&type=style&index=0&id=4e315aba&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Viewer.vue?vue&type=style&index=0&id=89e94932&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Ground.vue?vue&type=style&index=0&id=13633d1f&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Join.vue?vue&type=style&index=0&id=3905096a&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Editor.vue?vue&type=style&index=0&id=e33aa3cc&lang=scss&scoped=true\"","<template>\r\n  <Ground />\r\n</template>\r\n\r\n<script>\r\nimport Ground from \"./components/Ground\";\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: {\r\n    Ground,\r\n  },\r\n};\r\n</script>","<template>\r\n  <div class=\"component-ground font-coding\" :style=\"state.style\">\r\n    <Webview ref=\"webviewRef\" :page=\"store.state.page.name\" :postback=\"postback\" v-if=\"store.state.page.name\" />\r\n    <Home :login=\"store.state.account.login\" :callback=\"callback\" v-else />\r\n    <Console :callback=\"callback\" ref=\"consoleRef\" />\r\n    <div class=\"modals\" :class=\"state.modal.size\" v-if=\"state.modal.name\" @click=\"closeModal($event)\">\r\n      <div class=\"wrapper\">\r\n        <div class=\"inner\">\r\n          <Join :callback=\"callback\" v-if=\"state.modal.name === 'join'\" />\r\n          <Login :callback=\"callback\" v-else-if=\"state.modal.name === 'login'\" />\r\n          <Comment v-else-if=\"state.modal.name === 'comment'\" />\r\n          <Viewer :data=\"state.viewer\" v-else-if=\"state.modal.name === 'viewer'\" ref=\"viewerRef\" />\r\n        </div>\r\n        <span class=\"close-btn\" title=\"Close modal\">&times;</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { reactive, ref } from \"@vue/reactivity\";\r\nimport { nextTick, onMounted } from \"@vue/runtime-core\";\r\nimport { useStore } from \"vuex\";\r\nimport Console from \"./Console\";\r\nimport Webview from \"./Webview\";\r\nimport Home from \"./Home\";\r\nimport Join from \"../modals/Join\";\r\nimport Login from \"../modals/Login\";\r\nimport Comment from \"../modals/Comment\";\r\nimport Viewer from \"../modals/Viewer\";\r\nimport commLib from \"../libs/commonLib\";\r\nimport httpLib from \"../libs/httpLib\";\r\n\r\nexport default {\r\n  components: { Console, Webview, Join, Login, Comment, Viewer, Home },\r\n\r\n  setup() {\r\n    const store = useStore();\r\n    const state = reactive({\r\n      visible: false,\r\n      style: {\r\n        paddingBottom: 0,\r\n        paddingLeft: 0,\r\n      },\r\n      modal: {\r\n        name: \"\",\r\n        size: \"normal\",\r\n      },\r\n      viewer: {\r\n        idx: 0,\r\n        list: [],\r\n        category: \"\",\r\n      },\r\n      template: {\r\n        name: \"\",\r\n      },\r\n    });\r\n\r\n    const consoleRef = ref(null);\r\n    const webviewRef = ref(null);\r\n    const viewerRef = ref(null);\r\n\r\n    const webviewTag = commLib.cookie.get(\"webviewTag\");\r\n    const webviewOutline = commLib.cookie.get(\"webviewOutline\");\r\n\r\n    const closeModal = (e) => {\r\n      if (!state.modal.name) {\r\n        return;\r\n      }\r\n\r\n      if (!e || e.target.classList.contains(\"modals\") || e.target.classList.contains(\"wrapper\") || e.target.classList.contains(\"close-btn\")) {\r\n        state.modal.name = \"\";\r\n\r\n        nextTick(() => {\r\n          consoleRef.value.commandRef.textareaRef.focus();\r\n        });\r\n      }\r\n    };\r\n\r\n    const checkLogin = () => {\r\n      httpLib\r\n        .get(\"/api/account/mid\")\r\n        .then((res) => {\r\n          store.state.account.login = false;\r\n\r\n          if (res.data && Number(res.data) && commLib.isNumeric(res.data)) {\r\n            store.state.account.mid = Number(res.data);\r\n            store.state.account.login = true;\r\n          } else {\r\n            go();\r\n          }\r\n        })\r\n        .catch(() => {\r\n          commLib.message.show(\"error\", \" .\");\r\n        });\r\n    };\r\n\r\n    const go = (hash) => {\r\n      location.replace(`${location.origin}/#/${hash ? hash : \"\"}`);\r\n    };\r\n\r\n    const watch = () => {\r\n      const hash = location.hash;\r\n      const hashArr = hash.split(\"/\");\r\n      const pageName = hashArr[1];\r\n      const error = () => {\r\n        commLib.message.show(\"warning\", \"    .\");\r\n        go();\r\n      };\r\n\r\n      consoleRef.value.state.activeTab = consoleRef.value.tabs[0];\r\n\r\n      store.commit(\"setPage\", {\r\n        ...store.state.page,\r\n        name: null,\r\n      });\r\n\r\n      if (!hash || hashArr.length < 2) {\r\n        return;\r\n      }\r\n\r\n      if (!pageName) {\r\n        return;\r\n      }\r\n\r\n      httpLib\r\n        .get(`/api/pages/details/${pageName}`)\r\n        .then((res) => {\r\n          const page = res.data;\r\n\r\n          if (page && typeof page === \"object\" && Object.keys(page).length) {\r\n            const seq = page.sequence;\r\n\r\n            store.commit(\"setPage\", {\r\n              ...store.state.page,\r\n              seq: seq,\r\n              maxSeq: seq,\r\n              name: page.name,\r\n            });\r\n\r\n            nextTick(() => {\r\n              store.commit(\"setRefs\", { ...store.state.refs, webview: webviewRef.value });\r\n              consoleRef.value.commandRef.state.numbers = page.numbers;\r\n              consoleRef.value.reloadComponents();\r\n              closeModal();\r\n            });\r\n          } else {\r\n            error();\r\n          }\r\n        })\r\n        .catch(() => {\r\n          error();\r\n        });\r\n    };\r\n\r\n    const refresh = () => {\r\n      if (!store.state.page.name) {\r\n        return;\r\n      }\r\n\r\n      setNodeId(\"root\");\r\n      webviewRef.value.reload();\r\n    };\r\n\r\n    const keydownAlt = (key) => {\r\n      if (commLib.isNumeric(key)) {\r\n        const keyNum = Number(key) - 1;\r\n\r\n        if (consoleRef.value.tabs.length > keyNum) {\r\n          consoleRef.value.selectTab(consoleRef.value.tabs[keyNum]);\r\n        } else {\r\n          return;\r\n        }\r\n      } else if (typeof key === \"string\") {\r\n        if (key.toLowerCase() === \"d\") {\r\n          consoleRef.value.fold();\r\n        } else if (key.toLowerCase() === \"f\") {\r\n          consoleRef.value.setFullScreen();\r\n        } else if (key.toLowerCase() === \"c\") {\r\n          consoleRef.value.commandRef.textareaRef.focus();\r\n        } else if (key.toLowerCase() === \"a\") {\r\n          consoleRef.value.changePosition();\r\n        } else if (key.toLowerCase() === \"r\") {\r\n          refresh();\r\n        } else if (key.toLowerCase() === \"v\") {\r\n          toggle();\r\n        } else if (key.toLowerCase() === \"z\") {\r\n          undo();\r\n        } else if (key.toLowerCase() === \"t\") {\r\n          switch (consoleRef.value?.state.activeTab) {\r\n            case \"components\":\r\n              consoleRef.value.componentBoxRef.focus();\r\n              break;\r\n\r\n            case \"my-components\":\r\n              consoleRef.value.myComponentBoxRef.focus();\r\n              break;\r\n\r\n            case \"templates\":\r\n              consoleRef.value.templateBoxRef.focus();\r\n              break;\r\n\r\n            case \"my-templates\":\r\n              consoleRef.value.myTemplateBoxRef.focus();\r\n              break;\r\n          }\r\n        } else {\r\n          return;\r\n        }\r\n      } else {\r\n        return;\r\n      }\r\n\r\n      closeModal();\r\n    };\r\n\r\n    const keydownAltShift = (key) => {\r\n      if (consoleRef.value.state.activeTab === \"code\") {\r\n        const arr = [\"!\", \"@\", \"#\"];\r\n        const idx = arr.indexOf(key);\r\n\r\n        if (idx >= 0) {\r\n          consoleRef.value.editorRef.selectLang(consoleRef.value.editorRef.editorLangs[idx]);\r\n        }\r\n      }\r\n\r\n      if (typeof key === \"string\") {\r\n        if (key.toLowerCase() === \"z\") {\r\n          redo();\r\n        }\r\n      }\r\n    };\r\n\r\n    const setNodeId = (nid) => {\r\n      store.commit(\"setPage\", {\r\n        ...store.state.page,\r\n        nid: nid,\r\n      });\r\n\r\n      if (consoleRef.value.state.activeTab === \"code\") {\r\n        consoleRef.value.editorRef.setCodes();\r\n      }\r\n    };\r\n\r\n    const undo = () => {\r\n      if (!store.state.page.name) {\r\n        return;\r\n      }\r\n\r\n      runCommand(\"undo\");\r\n    };\r\n\r\n    const redo = () => {\r\n      if (!store.state.page.name) {\r\n        return;\r\n      }\r\n\r\n      runCommand(\"redo\");\r\n    };\r\n\r\n    const runCommand = (command) => {\r\n      consoleRef.value.commandRef.runCommands(command);\r\n    };\r\n\r\n    const toggle = () => {\r\n      if (!store.state.page.name) {\r\n        return;\r\n      }\r\n\r\n      const val = !store.state.toggle.tag;\r\n      consoleRef.value.toggleTagRef.change(val);\r\n      consoleRef.value.toggleOutlineRef.change(val);\r\n    };\r\n\r\n    const postback = (name, val1, val2, val3, val4) => {\r\n      switch (name) {\r\n        case \"complete-command\": {\r\n          const text = consoleRef.value.commandRef.state.text;\r\n          const textArr = text.trim().split(\" \");\r\n\r\n          textArr[textArr.length - 1] = val1;\r\n          consoleRef.value.commandRef.state.text = textArr.join(\" \");\r\n\r\n          if (textArr.length === 1) {\r\n            consoleRef.value.commandRef.state.text += \" \";\r\n          }\r\n          return;\r\n        }\r\n\r\n        case \"complete-capture-node\": {\r\n          const args = {\r\n            nid: val1,\r\n            page: store.state.page.name,\r\n            seq: store.state.page.seq,\r\n            base64image: val2,\r\n            category: val3,\r\n            num: val4,\r\n          };\r\n\r\n          for (let i in args) {\r\n            if (!args[i]) {\r\n              commLib.message.show(\"warning\", \"  .\");\r\n              return;\r\n            }\r\n          }\r\n\r\n          const save = (force) => {\r\n            if (force) {\r\n              args.force = true;\r\n            }\r\n\r\n            httpLib\r\n              .post(\"/api/components/save\", args)\r\n              .then(() => {\r\n                commLib.message.show(\"success\", \" .\");\r\n\r\n                if (args.nid === \"root\") {\r\n                  consoleRef.value.myTemplateBoxRef.init(true);\r\n                } else {\r\n                  consoleRef.value.myComponentBoxRef.init(true);\r\n                }\r\n              })\r\n              .catch((err) => {\r\n                switch (err.response?.status) {\r\n                  case 400:\r\n                    commLib.message.show(\"error\", \" .\");\r\n                    break;\r\n\r\n                  case 409:\r\n                    if (confirm(\"  . ?\")) {\r\n                      save(true);\r\n                    }\r\n                    break;\r\n\r\n                  default:\r\n                    commLib.message.show(\"error\", \" .\");\r\n                    break;\r\n                }\r\n              });\r\n          };\r\n\r\n          save();\r\n          return;\r\n        }\r\n\r\n        case \"click-nid\":\r\n          consoleRef.value.commandRef.state.text = `@${val1} `;\r\n          consoleRef.value.commandRef.textareaRef.focus();\r\n          setNodeId(val1);\r\n          return;\r\n\r\n        case \"dblclick-nid\":\r\n          consoleRef.value.selectTab(\"code\");\r\n          setNodeId(val1);\r\n          return;\r\n\r\n        case \"keydown-alt\":\r\n          keydownAlt(val1);\r\n          return;\r\n\r\n        case \"keydown-alt-shift\":\r\n          keydownAltShift(val1);\r\n          return;\r\n      }\r\n    };\r\n\r\n    const keyup = (key) => {\r\n      switch (key) {\r\n        case \"ArrowRight\":\r\n          if (state.modal.name === \"viewer\") {\r\n            viewerRef.value.move(\"next\");\r\n          }\r\n          break;\r\n\r\n        case \"ArrowLeft\":\r\n          if (state.modal.name === \"viewer\") {\r\n            viewerRef.value.move(\"prev\");\r\n          }\r\n          break;\r\n      }\r\n    };\r\n\r\n    const callback = (name, val1, val2, val3) => {\r\n      switch (name) {\r\n        case \"go\":\r\n          go(val1);\r\n          break;\r\n\r\n        case \"refresh\":\r\n          refresh();\r\n          break;\r\n\r\n        case \"undo\":\r\n          undo();\r\n          break;\r\n\r\n        case \"redo\":\r\n          redo();\r\n          break;\r\n\r\n        case \"set-style\":\r\n          if (val1.paddingLeft !== undefined) {\r\n            state.style.paddingLeft = val1.paddingLeft;\r\n          }\r\n\r\n          if (val1.paddingBottom !== undefined) {\r\n            state.style.paddingBottom = val1.paddingBottom;\r\n          }\r\n          break;\r\n\r\n        case \"toggle\":\r\n          consoleRef.value.toggleTagRef.change(val1);\r\n          consoleRef.value.toggleOutlineRef.change(val1);\r\n          break;\r\n\r\n        case \"check-login\":\r\n          checkLogin();\r\n          break;\r\n\r\n        case \"open-console\":\r\n          consoleRef.value.fold(val1);\r\n          break;\r\n\r\n        case \"open-modal\":\r\n          state.modal.name = val1;\r\n          state.modal.size = val2 ? val2 : \"normal\";\r\n\r\n          if (state.modal.name === \"viewer\") {\r\n            state.viewer.idx = val3.idx;\r\n            state.viewer.list = val3.list;\r\n            state.viewer.category = val3.category;\r\n          } else if (state.modal.name === \"template\") {\r\n            state.template.name = val3;\r\n          }\r\n\r\n          nextTick(() => {\r\n            setTimeout(() => {\r\n              document.querySelector(\":focus\")?.blur();\r\n            });\r\n          });\r\n          break;\r\n\r\n        case \"set-nid\": {\r\n          setNodeId(val1);\r\n          break;\r\n        }\r\n\r\n        case \"keydown-alt\":\r\n          keydownAlt(val1);\r\n          return;\r\n\r\n        case \"keydown-alt-shift\":\r\n          keydownAltShift(val1);\r\n          return;\r\n\r\n        case \"close-modal\":\r\n          closeModal();\r\n          break;\r\n      }\r\n    };\r\n\r\n    // created\r\n    if (webviewTag === \"N\") {\r\n      store.commit(\"setToggle\", {\r\n        tag: false,\r\n      });\r\n    }\r\n\r\n    if (webviewOutline === \"N\") {\r\n      store.commit(\"setToggle\", {\r\n        outline: false,\r\n      });\r\n    }\r\n\r\n    window.addEventListener(\"keyup\", (e) => {\r\n      keyup(e.key);\r\n    });\r\n\r\n    window.addEventListener(\"keydown\", (e) => {\r\n      if (e.altKey) {\r\n        if (e.shiftKey) {\r\n          keydownAltShift(e.key);\r\n        } else {\r\n          keydownAlt(e.key);\r\n        }\r\n\r\n        e.preventDefault();\r\n      } else if (e.key === \"Escape\") {\r\n        if (state.modal.name) {\r\n          closeModal();\r\n        }\r\n      }\r\n    });\r\n\r\n    window.onhashchange = () => {\r\n      watch();\r\n    };\r\n\r\n    checkLogin();\r\n\r\n    onMounted(() => {\r\n      store.commit(\"setRefs\", { ...store.state.refs, console: consoleRef.value });\r\n      watch();\r\n    });\r\n\r\n    return { store, state, consoleRef, webviewRef, viewerRef, closeModal, postback, callback };\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.component-ground {\r\n  position: relative;\r\n  height: 100%;\r\n\r\n  .modals {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(0, 0, 0, 0.75);\r\n    padding: 100px;\r\n    z-index: 999;\r\n\r\n    > .wrapper {\r\n      width: 420px;\r\n      max-width: 100%;\r\n      height: 100%;\r\n      margin-left: auto;\r\n      margin-right: auto;\r\n      position: relative;\r\n\r\n      > .close-btn {\r\n        position: absolute;\r\n        cursor: pointer;\r\n        top: -50px;\r\n        right: 0;\r\n        font-size: 42px;\r\n        line-height: 50px;\r\n        width: 50px;\r\n        color: #fff;\r\n        text-align: center;\r\n        background: rgba(0, 0, 0, 0.21);\r\n        transition: background 0.25s;\r\n\r\n        &:hover {\r\n          background: rgba(0, 0, 0, 0.42);\r\n        }\r\n      }\r\n\r\n      > .inner {\r\n        max-height: 100%;\r\n        background: #fff;\r\n        overflow: auto;\r\n      }\r\n    }\r\n\r\n    &.large {\r\n      > .wrapper {\r\n        width: 1140px;\r\n      }\r\n    }\r\n\r\n    &.full {\r\n      > .wrapper {\r\n        width: 100%;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"component-console\" :class=\"{ 'no-select': state.dragging, closed: state.folded }\" ref=\"consoleRef\" :style=\"state.style\" :position=\"state.position\">\r\n    <div class=\"header clear\">\r\n      <div class=\"addons\">\r\n        <Toggle text=\"tag\" :active=\"store.state.toggle.tag\" :toggle=\"toggleTag\" title=\"Tag (Alt + V)\" :disabled=\"!store.state.page.name\" ref=\"toggleTagRef\" />\r\n        <Toggle text=\"line\" :active=\"store.state.toggle.outline\" :toggle=\"toggleOutline\" title=\"Line (Alt + V)\" :disabled=\"!store.state.page.name\" ref=\"toggleOutlineRef\" />\r\n        <span class=\"fa fa-repeat\" title=\"Refresh (Alt + R)\" aria-hidden=\"true\" :class=\"{ disabled: !store.state.page.name }\" @click=\"callback('refresh')\"></span>\r\n        <span class=\"fa fa-backward\" title=\"Undo (Alt + Z)\" aria-hidden=\"true\" :class=\"{ disabled: !store.state.page.name }\" @click=\"callback('undo')\"></span>\r\n        <span class=\"fa fa-forward\" title=\"Redo (Alt + Shift + Z)\" aria-hidden=\"true\" :class=\"{ disabled: !store.state.page.name }\" @click=\"callback('redo')\"></span>\r\n        <span class=\"fa fa-comment-o\" title=\"Comments\" aria-hidden=\"true\" :class=\"{ disabled: !store.state.account.login }\" @click=\"store.state.account.login && callback('open-modal', 'comment', 'large')\"></span>\r\n        <span class=\"position\" title=\"Change Position (Alt + A)\" @click=\"changePosition()\">\r\n          <img src=\"/img/ico.console.side.png\" v-if=\"state.position !== 'side'\" />\r\n          <img src=\"/img/ico.console.bottom.png\" v-else-if=\"state.position !== 'bottom'\" />\r\n        </span>\r\n        <span class=\"full\" title=\"Full Screen (Alt + F)\" @click=\"setFullScreen()\">\r\n          <img src=\"/img/ico.full.png\" />\r\n        </span>\r\n        <span class=\"fold\" :title=\"(!state.folded ? 'Fold' : 'Unfold') + ' (Alt + D)'\" @click=\"fold()\">\r\n          <i class=\"fa fa-angle-right right\" aria-hidden=\"true\"></i>\r\n          <i class=\"fa fa-angle-left left\" aria-hidden=\"true\"></i>\r\n          <i class=\"fa fa-angle-down down\" aria-hidden=\"true\"></i>\r\n          <i class=\"fa fa-angle-up up\" aria-hidden=\"true\"></i>\r\n        </span>\r\n      </div>\r\n      <div class=\"tabs\">\r\n        <ul class=\"no-select\">\r\n          <li v-for=\"(t, idx) in tabs\" :key=\"idx\" :class=\"{ active: t === state.activeTab, disabled: !store.state.page.name }\" @click=\"selectTab(t)\" :title=\"t[0].toUpperCase() + t.substring(1) + ' (Alt + ' + (idx + 1) + ')'\">\r\n            <div>{{ t }}</div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <div class=\"core\" :style=\"{ paddingBottom: state.activeTab === 'command' ? 0 : '41px' }\">\r\n      <Command ref=\"commandRef\" :page=\"store.state.page.name\" :login=\"store.state.account.login\" :position=\"state.position\" :folded=\"state.folded\" :callback=\"callback\" :active=\"!state.folded && state.activeTab === 'command'\" />\r\n      <Editor\r\n        :page=\"store.state.page.name\"\r\n        :position=\"state.position\"\r\n        v-model:selectionTagName=\"state.editor.selectionTagName\"\r\n        v-model:selectionTagIdx=\"state.editor.selectionTagIdx\"\r\n        :callback=\"callback\"\r\n        v-show=\"state.activeTab === 'code'\"\r\n        ref=\"editorRef\"\r\n        :key=\"state.key\"\r\n      />\r\n      <File ref=\"fileRef\" :page=\"store.state.page.name\" :position=\"state.position\" v-show=\"state.activeTab === 'files'\" :callback=\"callback\" :key=\"state.key\" />\r\n      <Box ref=\"componentBoxRef\" sector=\"component\" :custom=\"false\" :position=\"state.position\" v-show=\"state.activeTab === 'components'\" :callback=\"callback\" :key=\"state.key\" />\r\n      <Box ref=\"templateBoxRef\" sector=\"template\" :custom=\"false\" :position=\"state.position\" v-show=\"state.activeTab === 'templates'\" :callback=\"callback\" :key=\"state.key\" />\r\n      <Box ref=\"myComponentBoxRef\" sector=\"component\" :custom=\"true\" :position=\"state.position\" v-show=\"state.activeTab === 'my-components'\" :callback=\"callback\" :key=\"state.key\" />\r\n      <Box ref=\"myTemplateBoxRef\" sector=\"template\" :custom=\"true\" :position=\"state.position\" v-show=\"state.activeTab === 'my-templates'\" :callback=\"callback\" :key=\"state.key\" />\r\n    </div>\r\n    <div class=\"grab\" ref=\"grabRef\" v-show=\"!state.folded && !state.fullScreen\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { nextTick, onMounted, reactive, ref } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport Toggle from \"./Toggle\";\r\nimport Editor from \"./Editor\";\r\nimport File from \"./File\";\r\nimport Command from \"./Command\";\r\nimport Box from \"./Box\";\r\nimport commLib from \"../libs/commonLib\";\r\n\r\nexport default {\r\n  components: { Toggle, Command, Editor, File, Box },\r\n  props: {\r\n    callback: Function,\r\n  },\r\n  setup(props) {\r\n    const store = useStore();\r\n    const state = reactive({\r\n      key: 1,\r\n      activeTab: null,\r\n      folded: false,\r\n      fullScreen: false,\r\n      dragging: false,\r\n      position: null,\r\n      style: {\r\n        width: null,\r\n        height: null,\r\n      },\r\n      editor: {\r\n        selectionTagName: null,\r\n        selectionTagIdx: null,\r\n      },\r\n    });\r\n\r\n    const tabs = [\"command\", \"code\", \"files\", \"components\", \"templates\", \"my-components\", \"my-templates\"];\r\n\r\n    const sideSize = 500;\r\n    const sideMinSize = 420;\r\n    const sideMaxSize = window.innerWidth - 300;\r\n\r\n    const bottomSize = 370;\r\n    const bottomMinSize = 260;\r\n    const bottomMaxSize = window.innerHeight - 300;\r\n\r\n    const defaultOpened = false;\r\n    const defaultPosition = \"side\";\r\n    const cookieOpened = commLib.cookie.get(\"cookieOpened\");\r\n    const cookiePosition = commLib.cookie.get(\"cookiePosition\");\r\n\r\n    // refs\r\n    const grabRef = ref(null);\r\n    const consoleRef = ref(null);\r\n    const toggleTagRef = ref(null);\r\n    const toggleOutlineRef = ref(null);\r\n    const textRef = ref(null);\r\n    const commandRef = ref(null);\r\n    const editorRef = ref(null);\r\n    const fileRef = ref(null);\r\n    const componentBoxRef = ref(null);\r\n    const templateBoxRef = ref(null);\r\n    const myComponentBoxRef = ref(null);\r\n    const myTemplateBoxRef = ref(null);\r\n\r\n    // methods\r\n    const selectTab = (tab, prevent) => {\r\n      if (!store.state.page.name) {\r\n        return;\r\n      }\r\n\r\n      if (state.folded) {\r\n        fold();\r\n      }\r\n\r\n      if (state.activeTab === tab) {\r\n        return;\r\n      }\r\n\r\n      state.activeTab = tab;\r\n\r\n      switch (state.activeTab) {\r\n        case \"command\":\r\n          nextTick(() => {\r\n            commandRef.value.adjust();\r\n          });\r\n          break;\r\n\r\n        case \"code\":\r\n          editorRef.value.init();\r\n          break;\r\n\r\n        case \"files\":\r\n          fileRef.value.init();\r\n          break;\r\n\r\n        case \"components\":\r\n          componentBoxRef.value.init();\r\n\r\n          if (!prevent) {\r\n            componentBoxRef.value.focus();\r\n          }\r\n          break;\r\n\r\n        case \"templates\":\r\n          templateBoxRef.value.init();\r\n\r\n          if (!prevent) {\r\n            templateBoxRef.value.focus();\r\n          }\r\n          break;\r\n\r\n        case \"my-components\":\r\n          myComponentBoxRef.value.init();\r\n\r\n          if (!prevent) {\r\n            myComponentBoxRef.value.focus();\r\n          }\r\n          break;\r\n\r\n        case \"my-templates\":\r\n          myTemplateBoxRef.value.init();\r\n\r\n          if (!prevent) {\r\n            myTemplateBoxRef.value.focus();\r\n          }\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    };\r\n\r\n    const toggleTag = (active) => {\r\n      store.commit(\"setToggle\", {\r\n        tag: active,\r\n      });\r\n\r\n      if (active) {\r\n        commLib.cookie.remove(\"webviewTag\");\r\n        store.state.refs.webview.postMessage(\"set-tags\");\r\n        store.state.refs.webview.postMessage(\"remove-class\", \"no-tag\");\r\n      } else {\r\n        commLib.cookie.set(\"webviewTag\", \"N\");\r\n        store.state.refs.webview.postMessage(\"add-class\", \"no-tag\");\r\n      }\r\n    };\r\n\r\n    const toggleOutline = (active) => {\r\n      store.commit(\"setToggle\", {\r\n        outline: active,\r\n      });\r\n\r\n      if (!active) {\r\n        commLib.cookie.set(\"webviewOutline\", \"N\");\r\n        store.state.refs.webview.postMessage(\"add-class\", \"no-outline\");\r\n      } else {\r\n        commLib.cookie.remove(\"webviewOutline\");\r\n        store.state.refs.webview.postMessage(\"remove-class\", \"no-outline\");\r\n      }\r\n    };\r\n\r\n    const fold = (fold) => {\r\n      state.folded = fold === undefined ? !state.folded : fold;\r\n\r\n      if (state.folded) {\r\n        state.fullScreen = false;\r\n      }\r\n\r\n      if (state.position === \"side\") {\r\n        let value = 0;\r\n\r\n        if (!state.folded) {\r\n          const sessionWidth = sessionStorage.getItem(\"consoleWidth\");\r\n          value = sessionWidth ? sessionWidth : `${sideSize}px`;\r\n        } else {\r\n          value = \"60px\";\r\n        }\r\n\r\n        state.style.height = \"100%\";\r\n        state.style.width = value;\r\n        props.callback(\"set-style\", { paddingLeft: value, paddingBottom: 0 });\r\n      } else {\r\n        let value = 0;\r\n\r\n        if (!state.folded) {\r\n          const sessionHeight = sessionStorage.getItem(\"consoleHeight\");\r\n          value = sessionHeight ? sessionHeight : `${bottomSize}px`;\r\n        } else {\r\n          value = \"88px\";\r\n        }\r\n\r\n        state.style.height = value;\r\n        state.style.width = \"100%\";\r\n        props.callback(\"set-style\", { paddingLeft: 0, paddingBottom: value });\r\n      }\r\n\r\n      if (state.activeTab === \"command\") {\r\n        nextTick(() => {\r\n          commandRef.value?.resize();\r\n          commandRef.value?.textareaRef.focus();\r\n        });\r\n      }\r\n\r\n      if (!state.folded === defaultOpened) {\r\n        commLib.cookie.remove(\"cookieOpened\");\r\n      } else {\r\n        commLib.cookie.set(\"cookieOpened\", !state.folded ? \"Y\" : \"N\", 7);\r\n      }\r\n    };\r\n\r\n    const setFullScreen = () => {\r\n      state.fullScreen = !state.fullScreen;\r\n\r\n      if (state.fullScreen) {\r\n        state.folded = false;\r\n\r\n        if (state.position === \"side\") {\r\n          props.callback(\"set-style\", { paddingLeft: 0 });\r\n          state.style.width = \"100%\";\r\n        } else {\r\n          props.callback(\"set-style\", { paddingBottom: 0 });\r\n          state.style.height = \"100%\";\r\n        }\r\n      } else {\r\n        if (state.position === \"side\") {\r\n          const sessionWidth = sessionStorage.getItem(\"consoleWidth\");\r\n          const value = sessionWidth ? sessionWidth : `${sideSize}px`;\r\n          props.callback(\"set-style\", { paddingLeft: value });\r\n          state.style.width = value;\r\n        } else {\r\n          const sessionHeight = sessionStorage.getItem(\"consoleHeight\");\r\n          const value = sessionHeight ? sessionHeight : `${bottomSize}px`;\r\n          props.callback(\"set-style\", { paddingBottom: value });\r\n          state.style.height = value;\r\n        }\r\n      }\r\n\r\n      if (state.activeTab === \"command\") {\r\n        nextTick(() => {\r\n          commandRef.value.resize();\r\n        });\r\n      }\r\n    };\r\n\r\n    const changePosition = (position) => {\r\n      state.position = position === undefined ? (state.position === \"side\" ? \"bottom\" : \"side\") : position;\r\n      fold(state.folded);\r\n\r\n      if (state.activeTab === \"command\") {\r\n        nextTick(() => {\r\n          commandRef.value?.resize();\r\n        });\r\n      }\r\n\r\n      if (state.position !== defaultPosition) {\r\n        commLib.cookie.set(\"cookiePosition\", state.position);\r\n      } else {\r\n        commLib.cookie.remove(\"cookiePosition\");\r\n      }\r\n    };\r\n\r\n    const reloadComponents = () => {\r\n      state.key += 1;\r\n\r\n      nextTick(() => {\r\n        componentBoxRef.value.setCategories();\r\n        templateBoxRef.value.setCategories();\r\n        myComponentBoxRef.value.setCategories();\r\n        myTemplateBoxRef.value.setCategories();\r\n      });\r\n    };\r\n\r\n    // created\r\n    state.activeTab = tabs[0];\r\n    state.position = defaultPosition;\r\n\r\n    if (cookiePosition) {\r\n      changePosition(cookiePosition);\r\n    } else {\r\n      changePosition(defaultPosition);\r\n    }\r\n\r\n    if (cookieOpened !== defaultOpened) {\r\n      fold(cookieOpened !== \"Y\");\r\n    }\r\n\r\n    // mounted\r\n    onMounted(() => {\r\n      let startX, startWidth, startY, startHeight;\r\n\r\n      const initDrag = (e) => {\r\n        if (state.position === \"bottom\") {\r\n          startY = e.clientY;\r\n          startHeight = parseInt(document.defaultView.getComputedStyle(consoleRef.value).height, 10);\r\n        } else {\r\n          startX = e.clientX;\r\n          startWidth = parseInt(document.defaultView.getComputedStyle(consoleRef.value).width, 10);\r\n        }\r\n\r\n        if (store.state.page.name) {\r\n          store.state.refs.webview.state.dragging = true;\r\n        }\r\n\r\n        state.dragging = true;\r\n\r\n        document.documentElement.addEventListener(\"mousemove\", doDrag, false);\r\n        document.documentElement.addEventListener(\"mouseup\", stopDrag, false);\r\n      };\r\n\r\n      const doDrag = (e) => {\r\n        if (state.position === \"side\") {\r\n          let value = startWidth + e.clientX - startX;\r\n\r\n          if (value < sideMinSize) value = sideMinSize;\r\n          if (value > sideMaxSize) value = sideMaxSize;\r\n\r\n          value += \"px\";\r\n          props.callback(\"set-style\", { paddingLeft: value });\r\n          state.style.width = value;\r\n\r\n          sessionStorage.setItem(\"consoleWidth\", value);\r\n        } else {\r\n          let value = startHeight - e.clientY + startY;\r\n\r\n          if (value < bottomMinSize) value = bottomMinSize;\r\n          if (value > bottomMaxSize) value = bottomMaxSize;\r\n\r\n          value += \"px\";\r\n          props.callback(\"set-style\", { paddingBottom: value });\r\n          state.style.height = value;\r\n\r\n          sessionStorage.setItem(\"consoleHeight\", value);\r\n        }\r\n      };\r\n\r\n      const stopDrag = () => {\r\n        state.dragging = false;\r\n\r\n        document.documentElement.removeEventListener(\"mousemove\", doDrag, false);\r\n        document.documentElement.removeEventListener(\"mouseup\", stopDrag, false);\r\n\r\n        if (state.activeTab === \"command\") {\r\n          commandRef.value.resize();\r\n        }\r\n\r\n        if (store.state.page.name) {\r\n          store.state.refs.webview.state.dragging = false;\r\n        }\r\n      };\r\n\r\n      grabRef.value.addEventListener(\"mousedown\", initDrag, false);\r\n    });\r\n\r\n    return {\r\n      store,\r\n      state,\r\n      tabs,\r\n      consoleRef,\r\n      commandRef,\r\n      editorRef,\r\n      fileRef,\r\n      componentBoxRef,\r\n      templateBoxRef,\r\n      myComponentBoxRef,\r\n      myTemplateBoxRef,\r\n      grabRef,\r\n      textRef,\r\n      toggleTagRef,\r\n      toggleOutlineRef,\r\n      toggleTag,\r\n      toggleOutline,\r\n      fold,\r\n      setFullScreen,\r\n      changePosition,\r\n      selectTab,\r\n      reloadComponents,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.component-console {\r\n  max-height: 100%;\r\n  max-width: 100%;\r\n  overflow: hidden;\r\n  position: absolute;\r\n  left: 0;\r\n  width: 100%;\r\n  bottom: 0;\r\n\r\n  > .header {\r\n    position: absolute;\r\n    background: #000;\r\n    color: #fff;\r\n    left: 0;\r\n    top: 0;\r\n    font-size: 14px;\r\n    width: 100%;\r\n\r\n    > .tabs {\r\n      float: left;\r\n\r\n      ul {\r\n        list-style: none;\r\n        padding: 0;\r\n        margin: 0;\r\n        white-space: nowrap;\r\n        overflow-y: hidden;\r\n        overflow-x: auto;\r\n        -ms-overflow-style: none; /* IE and Edge */\r\n        scrollbar-width: none; /* Firefox */\r\n\r\n        > li {\r\n          color: #aaa;\r\n          cursor: pointer;\r\n          display: inline-block;\r\n          padding: 14px;\r\n\r\n          &:not(.disabled):hover {\r\n            color: #fff;\r\n          }\r\n\r\n          &.active {\r\n            color: #fff;\r\n            opacity: 1;\r\n\r\n            > div {\r\n              display: inline-block;\r\n              position: relative;\r\n\r\n              &:after {\r\n                content: \" \";\r\n                border-bottom: 1px solid #fff;\r\n                position: absolute;\r\n                left: 0;\r\n                width: 100%;\r\n                bottom: 0;\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        &::-webkit-scrollbar {\r\n          display: none;\r\n        }\r\n      }\r\n    }\r\n\r\n    > .addons {\r\n      float: right;\r\n      padding: 5px 4px 5px 14px;\r\n      position: relative;\r\n\r\n      > div {\r\n        margin: 8px 15px 5px 0;\r\n      }\r\n\r\n      > span {\r\n        vertical-align: top;\r\n        color: #fff;\r\n        padding: 10px;\r\n        cursor: pointer;\r\n        line-height: 1;\r\n        font-size: 17px;\r\n        display: inline-block;\r\n        text-align: center;\r\n\r\n        &.fold {\r\n          font-size: 25px;\r\n          margin-top: -4px;\r\n\r\n          > i {\r\n            display: none;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  > .grab {\r\n    cursor: n-resize;\r\n    height: 10px;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    width: 100%;\r\n    z-index: 5;\r\n  }\r\n\r\n  > .core {\r\n    height: 100%;\r\n    position: relative;\r\n    background: #1e1e1e;\r\n\r\n    > * {\r\n      background: inherit;\r\n    }\r\n  }\r\n\r\n  &[position=\"side\"] {\r\n    height: 100% !important;\r\n    padding-top: 100px;\r\n\r\n    > .header {\r\n      height: 100px;\r\n      padding: 0;\r\n\r\n      > .addons {\r\n        float: none;\r\n        border-bottom: 1px solid #3c3c3c;\r\n        height: 50%;\r\n        text-align: right;\r\n\r\n        > div {\r\n          float: left;\r\n        }\r\n\r\n        > span {\r\n          &.fold i {\r\n            &.right {\r\n              display: none;\r\n            }\r\n\r\n            &.left {\r\n              display: inline-block;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      > .tabs {\r\n        height: 50%;\r\n        width: 100%;\r\n        overflow: hidden;\r\n      }\r\n    }\r\n\r\n    > .grab {\r\n      cursor: e-resize;\r\n      height: 100%;\r\n      position: absolute;\r\n      width: 10px;\r\n    }\r\n\r\n    &.closed {\r\n      > .header {\r\n        height: 100%;\r\n\r\n        > .addons {\r\n          height: 100%;\r\n          padding-left: 5px;\r\n          padding-right: 5px;\r\n          text-align: center;\r\n\r\n          > div {\r\n            width: 100%;\r\n            margin-right: 0;\r\n            float: none;\r\n\r\n            &:nth-child(2) {\r\n              margin-bottom: 12.5px;\r\n            }\r\n          }\r\n\r\n          > span {\r\n            display: block;\r\n\r\n            &.fold i {\r\n              &.right {\r\n                display: inline-block;\r\n              }\r\n\r\n              &.left {\r\n                display: none;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      > .core {\r\n        display: none;\r\n      }\r\n    }\r\n  }\r\n\r\n  &[position=\"bottom\"] {\r\n    width: 100% !important;\r\n    padding-top: 50px;\r\n\r\n    > .header {\r\n      height: 50px;\r\n\r\n      > .addons {\r\n        > span {\r\n          &.fold i {\r\n            &.up {\r\n              display: none;\r\n            }\r\n\r\n            &.down {\r\n              display: inline-block;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    &.closed {\r\n      > .header {\r\n        > .addons {\r\n          > span {\r\n            &.fold i {\r\n              &.up {\r\n                display: inline-block;\r\n              }\r\n\r\n              &.down {\r\n                display: none;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"component-toggle\" :class=\"{ active: state.active, disabled: disabled }\" :title=\"title\" @click=\"click\">\r\n    <div className=\"text\">{{ text }}</div>\r\n    <div class=\"inner\">\r\n      <div className=\"circle\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive } from \"vue\";\r\n\r\nexport default {\r\n  props: {\r\n    text: String,\r\n    title: String,\r\n    toggle: Function,\r\n    disabled: Boolean,\r\n    active: Boolean,\r\n  },\r\n  setup(props) {\r\n    const state = reactive({\r\n      active: props.active !== undefined ? props.active : true,\r\n    });\r\n\r\n    const change = (active) => {\r\n      if (props.disabled) {\r\n        return;\r\n      }\r\n\r\n      state.active = active;\r\n\r\n      if (typeof props.toggle === \"function\") {\r\n        props.toggle(state.active);\r\n      }\r\n    };\r\n\r\n    const click = () => {\r\n      if (props.disabled) {\r\n        return;\r\n      }\r\n\r\n      change(!state.active);\r\n    };\r\n\r\n    return { state, change, click };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.component-toggle {\r\n  position: relative;\r\n  display: inline-block;\r\n  cursor: pointer;\r\n\r\n  > div {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n\r\n    &.text {\r\n      margin-right: 6px;\r\n    }\r\n\r\n    &.inner {\r\n      width: 30px;\r\n      background: #777;\r\n      box-shadow: inset 0px 1px 1px rgba(0, 0, 0, 0.5), 0px 1px 0px rgba(255, 255, 255, 0.2);\r\n      height: 15px;\r\n      position: relative;\r\n      border-radius: 7px;\r\n      margin-top: -1px;\r\n\r\n      .circle {\r\n        width: 15px;\r\n        height: 15px;\r\n        position: absolute;\r\n        top: 0;\r\n        border-radius: 7px;\r\n        left: 0;\r\n        background: #fff;\r\n        box-shadow: 0px 2px 5px 0px rgba(0, 0, 0, 0.3);\r\n        transition: left 0.25s ease;\r\n      }\r\n    }\r\n  }\r\n\r\n  &.active {\r\n    .inner {\r\n      background: #146ece;\r\n\r\n      .circle {\r\n        left: 50%;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Toggle.vue?vue&type=template&id=61f5a2f2&scoped=true\"\nimport script from \"./Toggle.vue?vue&type=script&lang=js\"\nexport * from \"./Toggle.vue?vue&type=script&lang=js\"\n\nimport \"./Toggle.vue?vue&type=style&index=0&id=61f5a2f2&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-61f5a2f2\"\n\nexport default script","<template v-if=\"state.init\">\r\n  <div class=\"component-editor\" :position=\"position\">\r\n    <div ref=\"wrapperRef\" class=\"wrapper\"></div>\r\n    <div class=\"addon\">\r\n      <ul>\r\n        <li :class=\"{ active: state.lang === l }\" :key=\"idx\" v-for=\"(l, idx) in editorLangs\" @click=\"selectLang(l)\" :title=\"l + ' (Alt + Shift + ' + (idx + 1) + ')'\">{{ l === \"javascript\" ? \"js\" : l }}</li>\r\n      </ul>\r\n      <button class=\"btn btn-primary\" title=\"Submit (Ctrl + S)\" @click=\"pushCodes\">submit</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport loader from \"@monaco-editor/loader\";\r\nimport { onUnmounted, reactive, ref } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport httpLib from \"../libs/httpLib\";\r\nimport commLib from \"../libs/commonLib\";\r\nimport $ from \"jquery\";\r\n\r\nconst monaco = {\r\n  editor: null,\r\n  codeEditor: null,\r\n};\r\n\r\nexport default {\r\n  props: {\r\n    page: String,\r\n    callback: Function,\r\n    selectionTagName: String,\r\n    selectionTagIdx: Number,\r\n    position: String,\r\n  },\r\n  emits: [\"update:selectionTagName\", \"update:selectionTagIdx\"],\r\n  setup(props, context) {\r\n    const store = useStore();\r\n    const state = reactive({\r\n      init: false,\r\n      key: 1,\r\n      codes: {\r\n        html: \"\",\r\n        css: \"\",\r\n        javascript: \"\",\r\n      },\r\n      lang: \"\",\r\n    });\r\n\r\n    const editorLangs = [\"html\", \"css\", \"javascript\"];\r\n    const wrapperRef = ref(null);\r\n\r\n    const setCodes = () => {\r\n      let args = {\r\n        page: props.page,\r\n        seq: store.state.page.seq,\r\n        nid: store.state.page.nid,\r\n      };\r\n\r\n      httpLib.get(\"/api/pages/node\", args).then((res) => {\r\n        if (typeof res.data === \"object\" && Object.keys(res.data).length) {\r\n          state.codes = res.data;\r\n          setMonacoValue();\r\n        } else if (res.data === \"none\") {\r\n          commLib.message.show(\"warning\", \"   .\");\r\n        }\r\n      });\r\n    };\r\n\r\n    const setMonacoValue = () => {\r\n      if (monaco.editor) {\r\n        const model = monaco.editor.editor.getModels()[0];\r\n\r\n        if (!model) {\r\n          return;\r\n        }\r\n\r\n        model.setValue(state.codes[state.lang]);\r\n        monaco.editor.editor.setModelLanguage(model, state.lang);\r\n\r\n        setTimeout(() => {\r\n          monaco.codeEditor.setScrollPosition({ scrollTop: 0 });\r\n          monaco.codeEditor.getAction(\"editor.action.formatDocument\").run();\r\n\r\n          if (props.selectionTagName) {\r\n            setTimeout(() => {\r\n              setSelection(props.selectionTagName, props.selectionTagIdx);\r\n              context.emit(\"update:selectionTagName\", \"\");\r\n              context.emit(\"update:selectionTagIdx\", 0);\r\n            }, 250);\r\n          }\r\n        }, 250);\r\n      }\r\n    };\r\n\r\n    const selectLang = (lang) => {\r\n      state.lang = lang;\r\n      setMonacoValue();\r\n    };\r\n\r\n    const pushCodes = () => {\r\n      const args = {\r\n        page: store.state.page.name,\r\n        seq: store.state.page.seq,\r\n        codes: JSON.stringify(state.codes),\r\n      };\r\n\r\n      httpLib\r\n        .post(\"/api/pages/codes\", args)\r\n        .then(() => {\r\n          commLib.message.show(\"success\", \"  .\");\r\n          store.state.refs.webview.load(store.state.page.seq + 1, true);\r\n        })\r\n        .catch((err) => {\r\n          switch (err.response?.status) {\r\n            case 400:\r\n              commLib.message.show(\"error\", \"    .\");\r\n              break;\r\n\r\n            default:\r\n              commLib.message.show(\"error\", \" .\");\r\n              break;\r\n          }\r\n        });\r\n    };\r\n\r\n    const setSelection = (tagName, idx) => {\r\n      const html = monaco.codeEditor.getValue();\r\n      const $elem = $(html)\r\n        .find(tagName)\r\n        .eq(idx);\r\n\r\n      if (!$elem.length) {\r\n        return;\r\n      }\r\n\r\n      const tagHtml = $elem.get(0).outerHTML;\r\n      const htmlLines = html.split(\"\\n\");\r\n      const tagHtmlLines = tagHtml.split(\"\\n\");\r\n      let lineNumStart = 0;\r\n      let lineNumEnd = 0;\r\n\r\n      loop: for (let i1 in htmlLines) {\r\n        const t11 = htmlLines[i1].trim();\r\n\r\n        for (let i2 in tagHtmlLines) {\r\n          const t21 = tagHtmlLines[i2].trim();\r\n\r\n          if (t11 === t21) {\r\n            lineNumStart = Number(i1) + 1;\r\n            lineNumEnd = lineNumStart;\r\n\r\n            for (let j = 1; j < tagHtmlLines.length; j += 1) {\r\n              const t12 = htmlLines[Number(i1) + j]?.trim();\r\n              const t22 = tagHtmlLines[Number(i2) + j]?.trim();\r\n\r\n              if (t12 === t22) {\r\n                if (j === tagHtmlLines.length - 1) {\r\n                  lineNumEnd = Number(i1) + j + 1;\r\n                  break loop;\r\n                }\r\n              } else {\r\n                continue loop;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      monaco.codeEditor.setSelection(new monaco.editor.Selection(lineNumStart, 0, lineNumEnd, 1000));\r\n      monaco.codeEditor.revealLineInCenter(lineNumStart);\r\n    };\r\n\r\n    const init = (force) => {\r\n      if (state.init && !force) {\r\n        return;\r\n      }\r\n\r\n      loader.init().then((m) => {\r\n        const codeEditor = m.editor.create(wrapperRef.value, {\r\n          theme: \"vs-dark\",\r\n          lineNumbers: \"off\",\r\n          automaticLayout: true,\r\n          renderIndentGuides: false,\r\n          fixedOverflowWidgets: true,\r\n          hover: {\r\n            enabled: false,\r\n          },\r\n          minimap: {\r\n            enabled: false,\r\n          },\r\n          padding: {\r\n            top: 14,\r\n          },\r\n          // tabSize: 3,\r\n        });\r\n\r\n        codeEditor.onDidChangeModelContent(() => {\r\n          const after = codeEditor.getValue();\r\n\r\n          if ([\"css\", \"javascript\"].includes(state.lang)) {\r\n            const before = state.codes[state.lang];\r\n            const comments = [];\r\n\r\n            for (let b of before.split(\"\\n\")) {\r\n              if (state.lang === \"css\" && b.startsWith(\"/* @\") && b.endsWith(\" */\")) {\r\n                comments.push(b);\r\n              } else if (state.lang === \"javascript\" && b.startsWith(\"// @\")) {\r\n                comments.push(b);\r\n              }\r\n            }\r\n\r\n            for (let a of after.split(\"\\n\")) {\r\n              if (comments.includes(a)) {\r\n                comments.splice(comments.indexOf(a), 1);\r\n              }\r\n            }\r\n\r\n            if (comments.length) {\r\n              const model = monaco.editor.editor.getModels()[0];\r\n\r\n              if (!model) {\r\n                return;\r\n              }\r\n\r\n              model.setValue(before);\r\n              commLib.message.show(\"warning\", \"     .\");\r\n              return;\r\n            }\r\n          }\r\n\r\n          state.codes[state.lang] = after;\r\n        });\r\n\r\n        codeEditor.addCommand(m.KeyMod.CtrlCmd | m.KeyCode.KEY_S, () => {\r\n          pushCodes();\r\n        });\r\n\r\n        codeEditor.addCommand(m.KeyMod.Alt | m.KeyCode.KEY_C, () => {\r\n          props.callback(\"keydown-alt\", \"c\");\r\n        });\r\n\r\n        codeEditor.addCommand(m.KeyMod.Alt | m.KeyCode.KEY_P, () => {\r\n          props.callback(\"keydown-alt\", \"p\");\r\n        });\r\n\r\n        codeEditor.addCommand(m.KeyMod.Alt | m.KeyCode.KEY_R, () => {\r\n          props.callback(\"keydown-alt\", \"r\");\r\n        });\r\n\r\n        codeEditor.addCommand(m.KeyMod.Alt | m.KeyMod.Shift | m.KeyCode.KEY_1, () => {\r\n          props.callback(\"keydown-alt-shift\", \"!\");\r\n        });\r\n\r\n        codeEditor.addCommand(m.KeyMod.Alt | m.KeyMod.Shift | m.KeyCode.KEY_2, () => {\r\n          props.callback(\"keydown-alt-shift\", \"@\");\r\n        });\r\n\r\n        codeEditor.addCommand(m.KeyMod.Alt | m.KeyMod.Shift | m.KeyCode.KEY_3, () => {\r\n          props.callback(\"keydown-alt-shift\", \"#\");\r\n        });\r\n\r\n        codeEditor.addCommand(m.KeyMod.Alt | m.KeyCode.KEY_W, () => {});\r\n\r\n        monaco.editor = m;\r\n        monaco.codeEditor = codeEditor;\r\n        setCodes();\r\n      });\r\n\r\n      state.init = true;\r\n    };\r\n\r\n    state.lang = editorLangs[0];\r\n\r\n    onUnmounted(() => {\r\n      monaco.editor?.editor.getModels().forEach((x) => x.dispose());\r\n    });\r\n\r\n    return {\r\n      state,\r\n      init,\r\n      editorLangs,\r\n      wrapperRef,\r\n      setCodes,\r\n      selectLang,\r\n      pushCodes,\r\n      setSelection,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.component-editor {\r\n  height: 100%;\r\n  position: relative;\r\n  overflow: hidden;\r\n\r\n  > .wrapper {\r\n    height: 100%;\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n\r\n  > .addon {\r\n    position: absolute;\r\n    left: 0;\r\n    bottom: 0;\r\n    background: #262626;\r\n\r\n    > ul {\r\n      list-style: none;\r\n      padding: 0;\r\n      margin: 0;\r\n\r\n      > li {\r\n        color: #aaa;\r\n        cursor: pointer;\r\n        font-size: 12px;\r\n        position: relative;\r\n        text-align: center;\r\n\r\n        &.active {\r\n          color: #fff;\r\n          background: #1e1e1e;\r\n        }\r\n      }\r\n    }\r\n\r\n    > button {\r\n      font-size: 14px;\r\n      position: absolute;\r\n      bottom: 0;\r\n      right: 0;\r\n      border-radius: 0;\r\n    }\r\n  }\r\n\r\n  &[position=\"side\"] {\r\n    padding-bottom: 42px;\r\n    padding-right: 10px;\r\n\r\n    > .addon {\r\n      width: 100%;\r\n      height: 42px;\r\n\r\n      > ul > li {\r\n        float: left;\r\n        padding: 12px 20px;\r\n      }\r\n\r\n      > button {\r\n        height: 100%;\r\n      }\r\n    }\r\n  }\r\n\r\n  &[position=\"bottom\"] {\r\n    padding-left: 77px;\r\n\r\n    > .addon {\r\n      width: 77px;\r\n      height: 100%;\r\n\r\n      > ul > li {\r\n        width: 100%;\r\n        padding: 12px;\r\n      }\r\n\r\n      > button {\r\n        width: 100%;\r\n        height: 42px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","const global = {\r\n    site: {\r\n        host: \"localhost\",\r\n        url: \"http://localhost:2133\"\r\n    },\r\n    defines: {\r\n        commands: {\r\n            node: {\r\n                beforeLogin: [],\r\n                beforePage: [],\r\n                afterPage: [\r\n                    {\r\n                        cmd: \"append\", min: 2, max: 4, node: true, item: false, space: true,\r\n                        desc: \"  .\",\r\n                        args: []\r\n                    },\r\n                    {\r\n                        cmd: \"prepend\", min: 2, max: 4, node: true, item: false, space: true,\r\n                        desc: \"   .\",\r\n                        args: []\r\n                    },\r\n                    {\r\n                        cmd: \"template\", min: 2, max: 4, node: true, item: false, space: true,\r\n                        desc: \"  .\",\r\n                        args: [\"TEMPLATE_NAME\", \"TEMPLATE_NUMBER\"]\r\n                    },\r\n                    {\r\n                        cmd: \"save\", min: 4, max: 4, node: false, item: false, space: true,\r\n                        desc: \"    .\",\r\n                        args: [\"COMPONENT_NAME\", \"COMPONENT_NUMBER\"]\r\n                    },\r\n                    {\r\n                        cmd: \"move\", min: 3, max: 3, node: true, item: false, space: true,\r\n                        desc: \"     .\",\r\n                        args: [\"NODE_ID\"]\r\n                    },\r\n                    {\r\n                        cmd: \"up\", min: 2, max: 2, node: true, item: false, space: true,\r\n                        desc: \"      .\",\r\n                        args: []\r\n                    },\r\n                    {\r\n                        cmd: \"down\", min: 2, max: 2, node: true, item: false, space: true,\r\n                        desc: \"      .\",\r\n                        args: []\r\n                    },\r\n                    {\r\n                        cmd: \"code\", min: 1, max: 3, node: true, item: false, space: true,\r\n                        desc: \"  .\",\r\n                        args: []\r\n                    },\r\n                    {\r\n                        cmd: \"top\", min: 2, max: 2, node: true, item: false, space: true,\r\n                        desc: \"  .\",\r\n                        args: []\r\n                    },\r\n                    {\r\n                        cmd: \"bottom\", min: 2, max: 2, node: true, item: false, space: true,\r\n                        desc: \"  .\",\r\n                        args: []\r\n                    },\r\n                    {\r\n                        cmd: \"remove\", min: 2, max: 2, node: false, item: false, space: false,\r\n                        desc: \" .\",\r\n                        args: []\r\n                    },\r\n                ],\r\n            },\r\n            console: {\r\n                beforeLogin: [\r\n                    {\r\n                        cmd: \"join\", min: 1, max: 1, node: false, item: false, space: false,\r\n                        desc: \"  .\",\r\n                        args: []\r\n                    },\r\n                    {\r\n                        cmd: \"login\", min: 1, max: 1, node: false, item: false, space: false,\r\n                        desc: \"  .\",\r\n                        args: []\r\n                    },\r\n                    {\r\n                        cmd: \"clear\", min: 1, max: 1, node: false, item: false, space: false,\r\n                        desc: \"  .\",\r\n                        args: []\r\n                    },\r\n                    {\r\n                        cmd: \"cls\", min: 1, max: 1, node: false, item: false, space: false,\r\n                        desc: \"  .\",\r\n                        args: []\r\n                    },\r\n                ],\r\n                beforePage: [\r\n                    {\r\n                        cmd: \"logout\", min: 1, max: 1, node: false, item: false, space: false,\r\n                        desc: \".\",\r\n                        args: []\r\n                    },\r\n                    {\r\n                        cmd: \"create\", min: 2, max: 2, node: false, item: false, space: true,\r\n                        desc: \" .\",\r\n                        args: [\"PAGE_NAME\"]\r\n                    },\r\n                    {\r\n                        cmd: \"open\", min: 2, max: 2, node: false, item: true, space: true,\r\n                        desc: \" .\",\r\n                        args: [\"PAGE_NAME\"]\r\n                    },\r\n                    {\r\n                        cmd: \"rm\", min: 2, max: 2, node: false, item: true, space: true,\r\n                        desc: \" .\",\r\n                        args: []\r\n                    },\r\n                    {\r\n                        cmd: \"ls\", min: 1, max: 2, node: false, item: true, space: false,\r\n                        desc: \"  .\",\r\n                        args: []\r\n                    },\r\n                    {\r\n                        cmd: \"cp\", min: 3, max: 3, node: false, item: true, space: true,\r\n                        desc: \" .\",\r\n                        args: [\"PAGE_NAME\", \"NEW_PAGE_NAME\"]\r\n                    },\r\n                    {\r\n                        cmd: \"mv\", min: 3, max: 3, node: false, item: true, space: true,\r\n                        desc: \"  .\",\r\n                        args: [\"PAGE_NAME\", \"NEW_PAGE_NAME\"]\r\n                    },\r\n                    {\r\n                        cmd: \"vi\", min: 2, max: 2, node: false, item: true, space: true,\r\n                        desc: \"  .\",\r\n                        args: [\"PAGE_NAME\"]\r\n                    },\r\n                ],\r\n                afterPage: [\r\n                    {\r\n                        cmd: \"reset\", min: 1, max: 1, node: false, item: false, space: false,\r\n                        desc: \"  .\",\r\n                        args: [\"PAGE_NAME\"]\r\n                    },\r\n                    {\r\n                        cmd: \"undo\", min: 1, max: 1, node: false, item: false, space: false,\r\n                        desc: \"    .\",\r\n                        args: [\"PAGE_NAME\"]\r\n                    },\r\n                    {\r\n                        cmd: \"redo\", min: 1, max: 1, node: false, item: false, space: false,\r\n                        desc: \"    .\",\r\n                        args: [\"PAGE_NAME\"]\r\n                    },\r\n                    {\r\n                        cmd: \"export\", min: 1, max: 1, node: false, item: false, space: false,\r\n                        desc: \" .\",\r\n                        args: [\"PAGE_NAME\"]\r\n                    },\r\n                    {\r\n                        cmd: \"exit\", min: 1, max: 1, node: false, item: false, space: false,\r\n                        desc: \" .\",\r\n                        args: [\"PAGE_NAME\"]\r\n                    },\r\n                ],\r\n            },\r\n        },\r\n    }\r\n}\r\n\r\nexport default global;","import $ from \"jquery\";\r\nimport global from \"../global\";\r\n\r\nconst lib = {\r\n    isNumeric: (str) => {\r\n        if (typeof str === \"number\") {\r\n            str = str.toString();\r\n        }\r\n        else if (typeof str != \"string\") {\r\n            return false;\r\n        }\r\n\r\n        return !isNaN(str) && !isNaN(parseFloat(str));\r\n    },\r\n\r\n    isOnlyAlphabetString: (str) => {\r\n        return /^[a-zA-Z]+$/.test(str);\r\n    },\r\n\r\n    isValidEmail: (email) => {\r\n        const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return re.test(String(email).toLowerCase());\r\n    },\r\n\r\n    getStrToArray: (str, separator1, separator2) => {\r\n        const result = [];\r\n        const arr1 = str.split(separator1);\r\n\r\n        for (let x of arr1) {\r\n            const arr2 = x.split(separator2);\r\n\r\n            for (let y of arr2) {\r\n                if (y) {\r\n                    result.push(y);\r\n                }\r\n            }\r\n        }\r\n\r\n        return result;\r\n    },\r\n\r\n    getRenewed: (value) => {\r\n        if (!value) {\r\n            return value;\r\n        }\r\n\r\n        return JSON.parse(JSON.stringify(value));\r\n    },\r\n\r\n    getTextReplacedDoubleSpacesToSingle: (text) => {\r\n        if (text.includes(\"  \")) {\r\n            text = text.replaceAll(\"  \", \" \");\r\n            return lib.getTextReplacedDoubleSpacesToSingle(text);\r\n        }\r\n\r\n        return text;\r\n    },\r\n\r\n    timer: {},\r\n\r\n    message: {\r\n        show: (head, txt) => {\r\n            let $message = $('#commonMessage');\r\n            const width = 420;\r\n            lib.message.hide();\r\n\r\n            if ($message.length) {\r\n                $message.show();\r\n            }\r\n            else {\r\n                const html = `<div id=\"commonMessage\" style=\"border:1px solid #292929;position:fixed;bottom:25px;width:${width}px;background:rgba(0,0,0,0.85);padding:15px 20px 30px 20px;color:#fff;z-index:1001\">\r\n                                  <div class=\"header\" style=\"font-weight:bold;font-size:14px;margin-left:-5px;\">\r\n                                      <i style=\"font-size:11px;margin-right:3px;position:relative;\"></i>\r\n                                      <span></span>\r\n                                  </div>\r\n                                  <div class=\"text\" style=\"font-size:15px;margin-top:5px;padding-left:12px;\"></div>\r\n                                  <span class=\"close-btn\" style=\"position:absolute;right:8px;top:3px;font-size:27px;cursor:pointer;line-height:1;\">&times;</span>\r\n                              </div>`;\r\n\r\n                document.body.insertAdjacentHTML('beforeend', html);\r\n                $message = $('#commonMessage');\r\n\r\n                $message.find('.close-btn').on('click', () => {\r\n                    lib.message.hide();\r\n                });\r\n            }\r\n\r\n            $message.css('right', -(width));\r\n            $message.find(\".header > i\").removeAttr(\"class\").addClass(`fa ${head === 'success' ? 'fa-check' : 'fa-exclamation-triangle'}`)\r\n            $message.find(\".header > span\").text(head[0].toUpperCase() + head.substring(1));\r\n            $message.find(\".text\").text(txt);\r\n\r\n            $message.stop().animate({ right: 0 }, () => {\r\n                clearInterval(lib.timer.message);\r\n\r\n                lib.timer.message = setTimeout(() => {\r\n                    $message.stop().animate({ right: width * -1 }, () => {\r\n                        lib.message.hide();\r\n                    });\r\n                }, 5000)\r\n            });\r\n        },\r\n        hide: () => {\r\n            clearInterval(lib.timer.message);\r\n            $('#commonMessage').hide();\r\n        }\r\n    },\r\n\r\n    isTextSelected: (elem) => {\r\n        if (typeof elem.selectionStart == \"number\") {\r\n            return elem.selectionStart == 0 && elem.selectionEnd == elem.value.length;\r\n        } else if (typeof document.selection != \"undefined\") {\r\n            return document.selection.createRange().text == elem.value;\r\n        }\r\n    },\r\n\r\n    copy: (text) => {\r\n        const $copyText = document.createElement(\"textarea\");\r\n        $copyText.setAttribute(\"id\", \"copyText\");\r\n        $copyText.value = text;\r\n        document.body.appendChild($copyText);\r\n        $copyText.select();\r\n        document.execCommand(\"copy\");\r\n        $copyText.remove();\r\n        lib.message.show(\"success\", \" .\");\r\n    },\r\n\r\n    postForm: (url, args) => {\r\n        const $form = document.createElement(\"form\");\r\n        $form.setAttribute(\"action\", url);\r\n        $form.setAttribute(\"method\", \"post\");\r\n        $form.setAttribute(\"target\", \"_blank\");\r\n\r\n        if (args && typeof args === 'object' && Object.keys(args).length) {\r\n            for (let i in args) {\r\n                const $input = document.createElement(\"input\");\r\n                $input.setAttribute(\"type\", \"hidden\");\r\n                $input.setAttribute(\"name\", i);\r\n                $input.setAttribute(\"value\", args[i]);\r\n                $form.appendChild($input);\r\n            }\r\n        }\r\n\r\n        document.body.appendChild($form);\r\n        $form.submit();\r\n        $form.remove();\r\n    },\r\n\r\n    cookie: {\r\n        get: (name) => {\r\n            if (document.cookie.length > 0) {\r\n                let start = document.cookie.indexOf(name + \"=\");\r\n                let end;\r\n\r\n                if (start != -1) {\r\n                    start = start + name.length + 1;\r\n                    end = document.cookie.indexOf(\";\", start);\r\n\r\n                    if (end == -1) {\r\n                        end = document.cookie.length;\r\n                    }\r\n\r\n                    return unescape(document.cookie.substring(start, end));\r\n                }\r\n            }\r\n\r\n            return \"\";\r\n        },\r\n        set: (name, value, days) => {\r\n            var expires;\r\n            const domain = (global.site.host === \"localhost\" ? \"\" : \".\") + global.site.host;\r\n\r\n            if (days) {\r\n                var date = new Date();\r\n                date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\r\n                expires = \"; expires=\" + date.toGMTString();\r\n            }\r\n            else {\r\n                expires = \"\";\r\n            }\r\n\r\n            document.cookie = name + \"=\" + value + expires + \";domain=\" + domain + \";path=/;\";\r\n        },\r\n        remove: (name) => {\r\n            lib.cookie.set(name, \"\", -1);\r\n        }\r\n    }\r\n}\r\n\r\nexport default lib;","import axios from \"axios\";\r\nimport global from \"../global\";\r\nimport commLib from \"./commonLib\";\r\n\r\nexport default {\r\n    get(url, parameters) {\r\n        let args = {\r\n            params: parameters\r\n        };\r\n\r\n        const token = commLib.cookie.get(\"token\");\r\n        args.headers = { \"Authorization\": `Bearer ${token}` };\r\n        args.withCredentials = true;\r\n\r\n        if (typeof parameters === \"function\") {\r\n            console.warn(\"parameters is parameters\");\r\n        }\r\n\r\n        return axios.get(global.site.url + url, args);\r\n    },\r\n    post(url, parameters) {\r\n        let params = new URLSearchParams();\r\n        const token = commLib.cookie.get(\"token\");\r\n        const config = {\r\n            headers: { \"Authorization\": `Bearer ${token}` },\r\n            withCredentials: true\r\n        };\r\n\r\n        if (typeof parameters === \"function\") {\r\n            console.warn(\"parameters is parameters\");\r\n        }\r\n\r\n        for (let i in parameters) {\r\n            let val = parameters[i];\r\n\r\n            if (typeof val === 'string')\r\n                val = val.trim();\r\n\r\n            params.append(i, val);\r\n        }\r\n\r\n        return axios.post(global.site.url + url, params, config);\r\n    },\r\n    delete: (url) => {\r\n        const token = commLib.cookie.get(\"token\");\r\n        const config = {\r\n            headers: { \"Authorization\": `Bearer ${token}` },\r\n            withCredentials: true\r\n        };\r\n\r\n        return axios.delete(global.site.url + url, config);\r\n    },\r\n    postFile(url, formData) {\r\n        const config = {\r\n            headers: { 'Content-Type': 'multipart/form-data' },\r\n            withCredentials: true\r\n        };\r\n\r\n        return axios.post(global.site.url + url, formData, config);\r\n    }\r\n};","import { render } from \"./Editor.vue?vue&type=template&id=e33aa3cc&scoped=true\"\nimport script from \"./Editor.vue?vue&type=script&lang=js\"\nexport * from \"./Editor.vue?vue&type=script&lang=js\"\n\nimport \"./Editor.vue?vue&type=style&index=0&id=e33aa3cc&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-e33aa3cc\"\n\nexport default script","<template v-if=\"state.init\">\r\n  <div className=\"component-file\">\r\n    <div class=\"wrapper\">\r\n      <div class=\"tile attach\" @click=\"attach()\">\r\n        <label>\r\n          <span>+</span>\r\n          <input type=\"file\" class=\"hide\" accept=\"image/png, image/gif, image/jpeg\" multiple ref=\"fileRef\" @change=\"attach($event)\" />\r\n        </label>\r\n      </div>\r\n      <div class=\"tile\" v-for=\"(f, idx) in state.files\" :key=\"idx\" :style=\"{ backgroundImage: `url(${global.site.url}/files/${page}/${f.name})` }\">\r\n        <div class=\"body\">\r\n          <div class=\"title\">{{ f.name }}</div>\r\n          <button class=\"copy\" type=\"button\" @click=\"copy(f.name)\">copy path</button>\r\n          <i class=\"expand fa fa-search\" @click=\"callback('open-modal', 'viewer', 'large', `${global.site.url}/files/${page}/${f.name}`)\"></i>\r\n          <i class=\"remove fa fa-trash-o\" @click=\"remove(f.name)\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { reactive, ref } from \"vue\";\r\nimport global from \"../global\";\r\nimport commLib from \"../libs/commonLib\";\r\nimport httpLib from \"../libs/httpLib\";\r\nimport { useStore } from \"vuex\";\r\n\r\nexport default {\r\n  props: {\r\n    page: String,\r\n    callback: Function,\r\n  },\r\n  setup(props) {\r\n    const store = useStore();\r\n    const state = reactive({\r\n      init: false,\r\n      files: [],\r\n    });\r\n\r\n    const fileRef = ref(null);\r\n\r\n    const remove = (fileName) => {\r\n      if (confirm(` (${fileName}) ?`)) {\r\n        httpLib\r\n          .post(`/api/files/remove/${props.page}/` + fileName, null)\r\n          .then(() => {\r\n            commLib.message.show(\"success\", \".\");\r\n            load();\r\n          })\r\n          .catch((err) => {\r\n            switch (err.response?.status) {\r\n              case 404:\r\n                commLib.message.show(\"warning\", \"   .\");\r\n                load();\r\n                break;\r\n\r\n              default:\r\n                commLib.message.show(\"error\", \" .\");\r\n                break;\r\n            }\r\n          });\r\n      }\r\n    };\r\n\r\n    const attach = (e) => {\r\n      if (e?.target?.files?.length) {\r\n        var formData = new FormData();\r\n\r\n        for (let f of e.target.files) {\r\n          formData.append(\"files\", f);\r\n        }\r\n\r\n        httpLib\r\n          .postFile(`/api/files/upload/${props.page}`, formData)\r\n          .then(() => {\r\n            fileRef.value.value = \"\";\r\n            commLib.message.show(\"success\", \" .\");\r\n            load();\r\n          })\r\n          .catch((err) => {\r\n            fileRef.value.value = \"\";\r\n\r\n            switch (err.response?.status) {\r\n              case 409:\r\n                commLib.message.show(\"warning\", \"    .\");\r\n                break;\r\n\r\n              default:\r\n                commLib.message.show(\"error\", \" .\");\r\n                break;\r\n            }\r\n          });\r\n      }\r\n    };\r\n\r\n    const copy = (fileName) => {\r\n      commLib.copy(`/files/${props.page}/${fileName}`);\r\n    };\r\n\r\n    const load = () => {\r\n      httpLib.get(`/api/files/${props.page}`).then((res) => {\r\n        if (Array.isArray(res.data)) {\r\n          state.files = res.data;\r\n        }\r\n      });\r\n    };\r\n\r\n    const init = (force) => {\r\n      if (state.init && !force) {\r\n        return;\r\n      }\r\n\r\n      load();\r\n      state.init = true;\r\n    };\r\n\r\n    return { store, state, init, global, fileRef, attach, copy, remove };\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n$size: 140px;\r\n\r\n.component-file {\r\n  height: 100%;\r\n  padding: 30px;\r\n  font-size: 12px;\r\n  overflow: auto;\r\n  -ms-overflow-style: none; /* IE and Edge */\r\n  scrollbar-width: none; /* Firefox */\r\n\r\n  > .wrapper {\r\n    text-align: center;\r\n    margin: 0 -5px;\r\n\r\n    .tile {\r\n      display: inline-block;\r\n      position: relative;\r\n      vertical-align: top;\r\n      border-radius: 0;\r\n      border: 0;\r\n      margin: 5px;\r\n      height: $size;\r\n      width: $size;\r\n      background-position: center;\r\n      background-size: cover;\r\n\r\n      .body {\r\n        padding: 35px 10px;\r\n        text-align: center;\r\n        display: none;\r\n        width: 100%;\r\n        height: 100%;\r\n        position: absolute;\r\n        left: 0;\r\n        top: 0;\r\n        background: none;\r\n        color: #fff;\r\n        opacity: 0.5;\r\n        transition: background 0.25s, opacity 0.25s;\r\n\r\n        > .title {\r\n          font-size: 14px;\r\n          white-space: nowrap;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          margin-bottom: 0;\r\n        }\r\n\r\n        > .copy {\r\n          cursor: pointer;\r\n          display: inline-block;\r\n          border: 1px solid #fff;\r\n          padding: 6px 12px;\r\n          font-size: 12px;\r\n          margin-top: 12px;\r\n          background: none;\r\n          color: #fff;\r\n          transition: background 0.25s;\r\n\r\n          > i {\r\n            margin-right: 5px;\r\n          }\r\n\r\n          &:hover {\r\n            background: #fff;\r\n            color: #2a2a2a;\r\n          }\r\n        }\r\n\r\n        > i {\r\n          position: absolute;\r\n          cursor: pointer;\r\n          bottom: 0;\r\n          padding: 5px;\r\n\r\n          &.expand {\r\n            left: 0;\r\n          }\r\n\r\n          &.remove {\r\n            right: 0;\r\n          }\r\n        }\r\n\r\n        &:hover {\r\n          background: rgba(0, 0, 0, 0.76);\r\n          opacity: 1;\r\n        }\r\n      }\r\n\r\n      &:hover {\r\n        .body {\r\n          display: block;\r\n        }\r\n      }\r\n\r\n      &.attach {\r\n        > label {\r\n          cursor: pointer;\r\n          background: #fff;\r\n          line-height: $size;\r\n          font-size: 42px;\r\n          transition: background 0.25s;\r\n          text-align: center;\r\n          cursor: pointer;\r\n          width: 100%;\r\n          height: 100%;\r\n\r\n          &:hover {\r\n            background: rgba(255, 255, 255, 0.5);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  &::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./File.vue?vue&type=template&id=6820259a&scoped=true\"\nimport script from \"./File.vue?vue&type=script&lang=js\"\nexport * from \"./File.vue?vue&type=script&lang=js\"\n\nimport \"./File.vue?vue&type=style&index=0&id=6820259a&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-6820259a\"\n\nexport default script","<template>\r\n  <div class=\"component-command\" ref=\"commandRef\" :class=\"{ folded: folded, deactivated: !active }\" :position=\"position\">\r\n    <div class=\"history\" ref=\"historyRef\" :class=\"{ none: !state.history.list.length }\">\r\n      <ul>\r\n        <li :key=\"idx\" v-for=\"(r, idx) in state.history.list\">{{ r }}</li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"text\" ref=\"textRef\">\r\n      <textarea placeholder=\"Enter a command. / Press Alt + C to focus.\" @keypress=\"keyPressInTextarea\" @keydown=\"keyDownInTextarea\" v-model=\"state.text\" spellcheck=\"false\" :disabled=\"!state.loaded\" ref=\"textareaRef\"></textarea>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { nextTick, onMounted, reactive, ref } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport httpLib from \"../libs/httpLib\";\r\nimport commLib from \"../libs/commonLib\";\r\nimport global from \"../global\";\r\n\r\nexport default {\r\n  props: {\r\n    page: String,\r\n    callback: Function,\r\n    active: Boolean,\r\n    folded: Boolean,\r\n    position: String,\r\n    login: Boolean,\r\n  },\r\n  setup(props) {\r\n    const store = useStore();\r\n    const state = reactive({\r\n      init: false,\r\n      text: \"\",\r\n      loaded: true,\r\n      history: {\r\n        index: 0,\r\n        list: [],\r\n      },\r\n      processes: [],\r\n    });\r\n\r\n    const defined = global.defines.commands;\r\n\r\n    const consoleBeforeLoginCmds = defined.console.beforeLogin.map((x) => {\r\n      return x.cmd;\r\n    });\r\n\r\n    const consoleBeforePageCmds = defined.console.beforePage.map((x) => {\r\n      return x.cmd;\r\n    });\r\n\r\n    const consoleAfterPageCmds = defined.console.afterPage.map((x) => {\r\n      return x.cmd;\r\n    });\r\n\r\n    const consoleWordDefines = [...defined.console.beforeLogin, ...defined.console.beforePage, ...defined.console.afterPage];\r\n    const consoleWordDefinesCmds = [...consoleBeforeLoginCmds, ...consoleBeforePageCmds, ...consoleAfterPageCmds];\r\n\r\n    const nodeWordDefines = [...defined.node.beforeLogin, ...defined.node.beforePage, ...defined.node.afterPage];\r\n    const nodeWordDefinesCmds = nodeWordDefines.map((x) => {\r\n      return x.cmd;\r\n    });\r\n\r\n    const commandRef = ref(null);\r\n    const textareaRef = ref(null);\r\n    const historyRef = ref(null);\r\n    const textRef = ref(null);\r\n\r\n    const runCommands = (command) => {\r\n      const commandLines = commLib.getStrToArray(command, \"\\n\", \";\");\r\n\r\n      for (let x of commandLines) {\r\n        const cmd = x.trim();\r\n\r\n        if (cmd) {\r\n          state.processes.push(cmd);\r\n        }\r\n      }\r\n\r\n      state.text = \"\";\r\n      runCommand();\r\n    };\r\n\r\n    const appendLastHistory = (text) => {\r\n      if (text && text.length) {\r\n        state.history.list[state.history.list.length - 1] += `\\n${text}\\n`;\r\n      }\r\n    };\r\n\r\n    const reloadCodes = (seq) => {\r\n      if (store.state.refs.console.state.activeTab === \"code\") {\r\n        store.state.refs.console.editorRef.setCodes(seq);\r\n      }\r\n    };\r\n\r\n    const clearHistory = () => {\r\n      state.history.list = [];\r\n      state.history.index = 0;\r\n      state.processes = [];\r\n    };\r\n\r\n    const selectComponents = (componentCategory) => {\r\n      const consoleRef = store.state.refs.console;\r\n\r\n      if (componentCategory) {\r\n        for (let c of consoleRef.myComponentBoxRef.state.categories) {\r\n          if (c === componentCategory) {\r\n            consoleRef.selectTab(\"my-components\", true);\r\n            consoleRef.myComponentBoxRef.setCategory(c);\r\n            return;\r\n          }\r\n        }\r\n\r\n        for (let c of consoleRef.componentBoxRef.state.categories) {\r\n          if (c === componentCategory) {\r\n            consoleRef.selectTab(\"components\", true);\r\n            consoleRef.componentBoxRef.setCategory(c);\r\n            return;\r\n          }\r\n        }\r\n      }\r\n\r\n      consoleRef.selectTab(\"components\", true);\r\n      consoleRef.componentBoxRef.setCategory(consoleRef.componentBoxRef.state.categories[0]);\r\n      return;\r\n    };\r\n\r\n    const selectTemplates = (templateCategory) => {\r\n      const consoleRef = store.state.refs.console;\r\n\r\n      if (templateCategory) {\r\n        for (let c of consoleRef.myTemplateBoxRef.state.categories) {\r\n          if (c === templateCategory) {\r\n            consoleRef.selectTab(\"my-templates\", true);\r\n            consoleRef.myTemplateBoxRef.setCategory(c);\r\n            return;\r\n          }\r\n        }\r\n\r\n        for (let c of consoleRef.templateBoxRef.state.categories) {\r\n          if (c === templateCategory) {\r\n            consoleRef.selectTab(\"templates\", true);\r\n            consoleRef.templateBoxRef.setCategory(c);\r\n            return;\r\n          }\r\n        }\r\n      }\r\n\r\n      consoleRef.selectTab(\"templates\", true);\r\n      consoleRef.templateBoxRef.setCategory(consoleRef.templateBoxRef.state.categories[0]);\r\n      return;\r\n    };\r\n\r\n    const runCommand = (seq, numbers) => {\r\n      let command, commandWords, args;\r\n      const consoleRef = store.state.refs.console;\r\n\r\n      if (!seq) {\r\n        seq = store.state.page.seq;\r\n\r\n        if (!seq) {\r\n          return;\r\n        }\r\n      }\r\n\r\n      if (!state.processes.length) {\r\n        if (!props.page) {\r\n          return;\r\n        }\r\n\r\n        store.state.refs.webview.load(seq, true);\r\n        reloadCodes(seq);\r\n        return;\r\n      }\r\n\r\n      command = state.processes.splice(0, 1)[0].trim();\r\n      command = commLib.getTextReplacedDoubleSpacesToSingle(command);\r\n      commandWords = command.split(\" \");\r\n\r\n      state.history.list.push(command);\r\n      state.history.index = state.history.list.length;\r\n\r\n      if (!props.login && !consoleBeforeLoginCmds.includes(commandWords[0])) {\r\n        state.processes = [];\r\n        commLib.message.show(\"warning\", \"   .\");\r\n        return;\r\n      }\r\n\r\n      if (!props.page && ![...consoleBeforeLoginCmds, ...consoleBeforePageCmds].includes(commandWords[0])) {\r\n        state.processes = [];\r\n        commLib.message.show(\"warning\", \"   .\");\r\n        return;\r\n      }\r\n\r\n      if (commandWords[0].startsWith(\"@\")) {\r\n        if (commandWords.length < 2 || !nodeWordDefinesCmds.includes(commandWords[1])) {\r\n          state.processes = [];\r\n          commLib.message.show(\"warning\", \"   .\");\r\n          return;\r\n        }\r\n      } else if (!consoleWordDefinesCmds.includes(commandWords[0])) {\r\n        state.processes = [];\r\n        commLib.message.show(\"warning\", \"   .\");\r\n        return;\r\n      }\r\n\r\n      args = {\r\n        page: props.page,\r\n        seq: seq,\r\n      };\r\n\r\n      if (commandWords[0].startsWith(\"@\")) {\r\n        const cmd = nodeWordDefines.find((x) => {\r\n          return x.cmd === commandWords[1];\r\n        });\r\n\r\n        if (commandWords.length < cmd.min || commandWords.length > cmd.max) {\r\n          return commLib.message.show(\"warning\", \"    .\");\r\n        }\r\n\r\n        switch (commandWords[1]) {\r\n          case \"append\":\r\n          case \"prepend\": {\r\n            let num;\r\n\r\n            if (!numbers) {\r\n              numbers = commLib.cookie.get(\"numbers\");\r\n\r\n              if (numbers) {\r\n                numbers = JSON.parse(numbers);\r\n              } else {\r\n                numbers = {};\r\n              }\r\n            }\r\n\r\n            if (commandWords.length < 4) {\r\n              if (commandWords.length === 2) {\r\n                selectComponents();\r\n              } else {\r\n                selectComponents(commandWords[2].trim());\r\n              }\r\n\r\n              state.text = command.trim() + \" \";\r\n              return;\r\n            }\r\n\r\n            num = 1;\r\n\r\n            if (numbers[commandWords[2]]) {\r\n              num = numbers[commandWords[2]] + 1;\r\n            }\r\n\r\n            args.num = num;\r\n            numbers[commandWords[2]] = num;\r\n            break;\r\n          }\r\n\r\n          case \"template\":\r\n            if (commandWords.length < 4) {\r\n              if (commandWords.length === 2) {\r\n                selectTemplates();\r\n              } else {\r\n                selectTemplates(commandWords[2].trim());\r\n              }\r\n\r\n              state.text = command.trim() + \" \";\r\n              return;\r\n            }\r\n            break;\r\n\r\n          case \"save\":\r\n            if (!commLib.isOnlyAlphabetString(commandWords[2])) {\r\n              return commLib.message.show(\"warning\", \"   .\");\r\n            } else if (!commLib.isNumeric(commandWords[3])) {\r\n              return commLib.message.show(\"warning\", \"   .\");\r\n            }\r\n\r\n            store.state.refs.webview.postMessage(\"capture-node\", {\r\n              nid: commandWords[0].substring(1),\r\n              category: commandWords[2].toLowerCase(),\r\n              num: commandWords[3],\r\n            });\r\n            return;\r\n\r\n          case \"code\": {\r\n            let nid = \"\";\r\n            let lang = \"\";\r\n\r\n            if (commandWords.length > 1) {\r\n              nid = commandWords[0].replace(\"@\", \"\");\r\n\r\n              if (commandWords.length > 2) {\r\n                lang = commandWords[2];\r\n              }\r\n            }\r\n\r\n            store.commit(\"setPage\", {\r\n              ...store.state.page,\r\n              nid: nid ? nid : \"root\",\r\n            });\r\n\r\n            if (consoleRef.state.activeTab !== \"code\") {\r\n              consoleRef.selectTab(\"code\");\r\n            }\r\n\r\n            consoleRef.editorRef.setCodes();\r\n\r\n            if (lang) {\r\n              nextTick(() => {\r\n                switch (lang.trim()) {\r\n                  case \"css\":\r\n                    consoleRef.editorRef.selectLang(\"css\");\r\n                    break;\r\n\r\n                  case \"js\":\r\n                  case \"javascript\":\r\n                    consoleRef.editorRef.selectLang(\"javascript\");\r\n                    break;\r\n\r\n                  default:\r\n                    consoleRef.editorRef.selectLang(\"html\");\r\n                    break;\r\n                }\r\n              });\r\n            }\r\n\r\n            state.processes = [];\r\n            return;\r\n          }\r\n\r\n          default:\r\n            break;\r\n        }\r\n      } else if (commandWords[0].startsWith(\"#\")) {\r\n        return runCommand();\r\n      } else {\r\n        const cmd = consoleWordDefines.find((x) => {\r\n          return x.cmd === commandWords[0];\r\n        });\r\n\r\n        if (commandWords.length < cmd.min || commandWords.length > cmd.max) {\r\n          return commLib.message.show(\"warning\", \"    .\");\r\n        }\r\n\r\n        switch (commandWords[0]) {\r\n          case \"vi\": {\r\n            const error = () => {\r\n              commLib.message.show(\"warning\", \"    .\");\r\n            };\r\n\r\n            httpLib\r\n              .get(`/api/pages/details/${commandWords[1]}`)\r\n              .then((res) => {\r\n                if (res && res.data && typeof res.data === \"object\" && Object.keys(res.data).length) {\r\n                  const obj = res.data;\r\n                  obj.created = new Date(obj.created * 1000).toString();\r\n                  obj.updated = new Date(obj.updated * 1000).toString();\r\n                  appendLastHistory(JSON.stringify(obj, null, 4));\r\n                } else {\r\n                  error();\r\n                }\r\n              })\r\n              .catch(() => {\r\n                error();\r\n              });\r\n\r\n            state.processes = [];\r\n            return;\r\n          }\r\n\r\n          case \"join\":\r\n            if (store.state.account.login) {\r\n              return commLib.message.show(\"warning\", \"  .\");\r\n            }\r\n\r\n            props.callback(\"open-modal\", \"join\");\r\n            return;\r\n\r\n          case \"login\":\r\n            if (store.state.account.login) {\r\n              return commLib.message.show(\"warning\", \"  .\");\r\n            }\r\n\r\n            props.callback(\"open-modal\", \"login\");\r\n            return;\r\n\r\n          case \"logout\":\r\n            httpLib\r\n              .post(\"/api/account/logout\")\r\n              .then(() => {\r\n                clearHistory();\r\n                commLib.message.show(\"success\", \".\");\r\n                props.callback(\"check-login\");\r\n              })\r\n              .catch(() => {\r\n                commLib.message.show(\"error\", \" .\");\r\n              });\r\n            return;\r\n\r\n          case \"rm\": {\r\n            if (commandWords[1] && commandWords[1].trim() && !confirm(`  ?`)) {\r\n              return;\r\n            }\r\n            break;\r\n          }\r\n\r\n          case \"exit\": {\r\n            clearHistory();\r\n            props.callback(\"go\");\r\n            return;\r\n          }\r\n\r\n          case \"export\":\r\n            commLib.postForm(`${global.site.url}/pages/export`, args);\r\n            return;\r\n\r\n          case \"undo\":\r\n            if (store.state.page.seq > 1) {\r\n              const seq = store.state.page.seq - 1;\r\n              store.state.refs.webview.load(seq);\r\n              reloadCodes(seq);\r\n            }\r\n\r\n            state.processes = [];\r\n            return;\r\n\r\n          case \"redo\":\r\n            if (store.state.page.seq < store.state.page.maxSeq) {\r\n              const seq = store.state.page.seq + 1;\r\n              store.state.refs.webview.load(seq);\r\n              reloadCodes(seq);\r\n            }\r\n\r\n            state.processes = [];\r\n            return;\r\n\r\n          case \"reset\": {\r\n            if (!confirm(\" ?\")) {\r\n              return;\r\n            }\r\n            break;\r\n          }\r\n\r\n          case \"open\":\r\n            props.callback(\"go\", commandWords[1].replace(\".json\", \"\"));\r\n            return;\r\n\r\n          case \"cls\":\r\n          case \"clear\":\r\n            clearHistory();\r\n            return;\r\n\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n\r\n      args.cmd = command;\r\n      state.loaded = false;\r\n\r\n      httpLib\r\n        .post(\"/api/commands/push\", args)\r\n        .then((res) => {\r\n          state.loaded = true;\r\n\r\n          switch (res.data) {\r\n            case \"pushed\":\r\n              if (commandWords[0].startsWith(\"@\")) {\r\n                switch (commandWords[1]) {\r\n                  case \"remove\":\r\n                    props.callback(\"set-nid\", \"root\");\r\n                    break;\r\n                }\r\n              }\r\n\r\n              runCommand(seq + 1, numbers);\r\n              break;\r\n\r\n            case \"created\":\r\n              commLib.message.show(\"success\", \"  .\");\r\n              props.callback(\"close-modal\");\r\n              break;\r\n\r\n            case \"reseted\":\r\n              store.state.refs.webview.load(1, true);\r\n              store.state.refs.console.reloadComponents();\r\n              consoleRef.state.activeTab = \"command\";\r\n              commLib.message.show(\"success\", \" .\");\r\n              break;\r\n\r\n            case \"made\":\r\n              commLib.message.show(\"success\", \"  .\");\r\n              props.callback(\"close-modal\");\r\n              break;\r\n\r\n            case \"copied\":\r\n              commLib.message.show(\"success\", \"  .\");\r\n              break;\r\n\r\n            case \"renamed\":\r\n              commLib.message.show(\"success\", \"   .\");\r\n              props.callback(\"go\");\r\n              break;\r\n\r\n            case \"removed\":\r\n              commLib.message.show(\"success\", \"  .\");\r\n              props.callback(\"go\");\r\n              break;\r\n          }\r\n\r\n          switch (commandWords[0]) {\r\n            case \"ls\": {\r\n              let append = \"\";\r\n\r\n              if (Array.isArray(res.data)) {\r\n                append = res.data.join(\"\\n\");\r\n              }\r\n\r\n              appendLastHistory(append);\r\n              break;\r\n            }\r\n          }\r\n\r\n          if (!commandWords[0].startsWith(\"@\")) {\r\n            state.processes = [];\r\n          }\r\n\r\n          nextTick(() => {\r\n            focus();\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          state.loaded = true;\r\n          state.processes = [];\r\n\r\n          switch (err.response?.status) {\r\n            case 400:\r\n              commLib.message.show(\"warning\", \"   .\");\r\n              break;\r\n\r\n            case 401:\r\n              commLib.message.show(\"warning\", \" .\");\r\n              props.callback(\"open-modal\", \"login\");\r\n              return;\r\n\r\n            case 403:\r\n              commLib.message.show(\"warning\", \"   .\");\r\n              break;\r\n\r\n            case 404:\r\n              switch (err.response.data) {\r\n                case \"component\":\r\n                  commLib.message.show(\"warning\", \"   .\");\r\n                  break;\r\n\r\n                case \"node\":\r\n                  commLib.message.show(\"warning\", \"   .\");\r\n                  break;\r\n\r\n                case \"item\":\r\n                  commLib.message.show(\"warning\", \"   .\");\r\n                  break;\r\n\r\n                case \"page\":\r\n                  commLib.message.show(\"error\", \"  .\");\r\n                  break;\r\n\r\n                default:\r\n                  commLib.message.show(\"error\", \" .\");\r\n                  break;\r\n              }\r\n              break;\r\n\r\n            case 409:\r\n              commLib.message.show(\"warning\", \"    .\");\r\n              break;\r\n\r\n            case 422:\r\n              switch (err.response.data) {\r\n                case \"name\":\r\n                  commLib.message.show(\"warning\", \"    .\");\r\n                  break;\r\n\r\n                case \"wrong\":\r\n                  commLib.message.show(\"warning\", \"     .\");\r\n                  break;\r\n\r\n                default:\r\n                  commLib.message.show(\"error\", \" .\");\r\n                  break;\r\n              }\r\n              break;\r\n\r\n            default:\r\n              commLib.message.show(\"error\", \" .\");\r\n              break;\r\n          }\r\n\r\n          nextTick(() => {\r\n            focus();\r\n          });\r\n        });\r\n    };\r\n\r\n    const keyPressInTextarea = (e) => {\r\n      if (e.key === \"Enter\" && !e.shiftKey) {\r\n        e.preventDefault();\r\n\r\n        if (state.text) {\r\n          runCommands(state.text.trim());\r\n        } else {\r\n          state.history.list.push(\"\");\r\n        }\r\n      }\r\n    };\r\n\r\n    const keyDownInTextarea = (e) => {\r\n      if (e.ctrlKey && e.key === \"c\" && !commLib.isTextSelected(textareaRef.value)) {\r\n        state.text = \"\";\r\n      } else if (e.key === \"ArrowUp\") {\r\n        const arr = e.target.value.split(\"\\n\");\r\n        const index = state.history.index - 1;\r\n\r\n        if (arr[0].length < e.target.selectionStart) {\r\n          return;\r\n        } else if (state.history.index === 0) {\r\n          return;\r\n        }\r\n\r\n        state.history.index = index;\r\n        state.text = state.history.list[index];\r\n\r\n        if (state.text.includes(\"\\n\")) {\r\n          const arr = state.text.split(\"\\n\");\r\n          state.text = arr[0];\r\n        }\r\n\r\n        e.preventDefault();\r\n      } else if (e.key === \"ArrowDown\") {\r\n        const value = e.target.value;\r\n        const arr = value.split(\"\\n\");\r\n\r\n        if (value.length - arr[arr.length - 1].length > e.target.selectionEnd) {\r\n          return;\r\n        }\r\n\r\n        if (state.history.index >= state.history.list.length - 1) {\r\n          state.history.index = state.history.list.length;\r\n          state.text = \"\";\r\n        } else {\r\n          const index = state.history.index + 1;\r\n\r\n          state.history.index = index;\r\n          state.text = state.history.list[index];\r\n\r\n          if (state.text.includes(\"\\n\")) {\r\n            const arr = state.text.split(\"\\n\");\r\n            state.text = arr[0];\r\n          }\r\n\r\n          e.preventDefault();\r\n        }\r\n      } else if (e.key === \"Tab\") {\r\n        const texts = commLib.getTextReplacedDoubleSpacesToSingle(state.text.trim()).split(\" \");\r\n        e.preventDefault();\r\n\r\n        if (!texts.length || !texts[0]) {\r\n          return;\r\n        }\r\n\r\n        const runnableCommands = [];\r\n        const key = state.text.startsWith(\"@\") ? \"node\" : \"console\";\r\n        const wordDefines = state.text.startsWith(\"@\") ? nodeWordDefines : consoleWordDefines;\r\n        const wordDefine = wordDefines.find((x) => {\r\n          return x.cmd === texts[0];\r\n        });\r\n\r\n        if (state.text.startsWith(\"@\") && texts.length > 1 && [\"append\", \"prepend\", \"template\"].includes(texts[texts.length - 2])) {\r\n          const lastWord = texts[texts.length - 1];\r\n          const consoleRef = store.state.refs.console;\r\n          let categories = [];\r\n\r\n          if (texts[texts.length - 2] === \"template\") {\r\n            categories = [...consoleRef.templateBoxRef.state.categories];\r\n          } else {\r\n            categories = [...consoleRef.myComponentBoxRef.state.categories, ...consoleRef.componentBoxRef.state.categories];\r\n          }\r\n\r\n          for (let c of categories) {\r\n            if (c.startsWith(lastWord)) {\r\n              texts[texts.length - 1] = c;\r\n              state.text = texts.join(\" \") + \" \";\r\n              return;\r\n            }\r\n          }\r\n        }\r\n\r\n        if (!props.login) {\r\n          runnableCommands.push(\r\n            ...defined[key].beforeLogin.map((x) => {\r\n              return x.cmd;\r\n            })\r\n          );\r\n        } else if (!props.page) {\r\n          runnableCommands.push(\r\n            ...defined[key].beforePage.map((x) => {\r\n              return x.cmd;\r\n            }),\r\n            ...defined[key].beforeLogin.map((x) => {\r\n              return x.cmd;\r\n            })\r\n          );\r\n        } else {\r\n          runnableCommands.push(\r\n            ...defined[key].afterPage.map((x) => {\r\n              return x.cmd;\r\n            }),\r\n            ...defined[key].beforePage.map((x) => {\r\n              return x.cmd;\r\n            }),\r\n            ...defined[key].beforeLogin.map((x) => {\r\n              return x.cmd;\r\n            })\r\n          );\r\n        }\r\n\r\n        if (!wordDefine || (texts.length <= wordDefine.max && (key === \"node\" || wordDefine.node))) {\r\n          const lastWord = texts[texts.length - 1];\r\n\r\n          if (!lastWord.startsWith(\"@\")) {\r\n            for (let t of texts) {\r\n              if (runnableCommands.includes(t)) {\r\n                return;\r\n              }\r\n            }\r\n          }\r\n\r\n          for (let c of runnableCommands) {\r\n            if (c.startsWith(lastWord)) {\r\n              const wordDefine = wordDefines.find((x) => {\r\n                return x.cmd === c;\r\n              });\r\n\r\n              texts[texts.length - 1] = c;\r\n              state.text = texts.join(\" \") + (wordDefine.space ? \" \" : \"\");\r\n              return;\r\n            }\r\n          }\r\n        }\r\n\r\n        const consoleWordCms = consoleWordDefines\r\n          .filter((x) => {\r\n            return x.item;\r\n          })\r\n          .map((x) => {\r\n            return x.cmd;\r\n          })\r\n          .filter((x) => {\r\n            return state.text.startsWith(x);\r\n          });\r\n\r\n        if (consoleWordCms.length) {\r\n          const texts = state.text.split(\" \");\r\n\r\n          if (texts.length < 2) {\r\n            return;\r\n          } else if (!runnableCommands.includes(texts[0])) {\r\n            return;\r\n          }\r\n\r\n          const target = texts[1].trim();\r\n\r\n          if (!target) {\r\n            return;\r\n          }\r\n\r\n          httpLib.get(\"/api/commands/tab\", { keyword: target }).then((res) => {\r\n            if (res.data) {\r\n              const cmd = texts[0];\r\n              const wordDefine = consoleWordDefines.find((x) => {\r\n                return x.cmd === cmd;\r\n              });\r\n\r\n              state.text = `${cmd} ${res.data}`;\r\n\r\n              if (wordDefine && texts.length < wordDefine.min) {\r\n                state.text += \" \";\r\n              }\r\n            }\r\n          });\r\n          return;\r\n        }\r\n\r\n        if (!store.state.page.name) {\r\n          return;\r\n        }\r\n\r\n        store.state.refs.webview.postMessage(\"tab-command\", state.text);\r\n        return;\r\n      }\r\n    };\r\n\r\n    const focus = () => {\r\n      textareaRef.value.focus();\r\n    };\r\n\r\n    const resize = () => {\r\n      let result;\r\n      const resultMinHeight = 37;\r\n\r\n      historyRef.value.style.height = \"auto\";\r\n      result = commandRef.value.offsetHeight - historyRef.value.getBoundingClientRect().height;\r\n\r\n      if (result < resultMinHeight) {\r\n        result = resultMinHeight;\r\n        historyRef.value.style.height = commandRef.value.offsetHeight - resultMinHeight + \"px\";\r\n      }\r\n\r\n      textRef.value.style.height = result + \"px\";\r\n      historyRef.value.scrollTop = historyRef.value.scrollHeight;\r\n    };\r\n\r\n    const adjust = () => {\r\n      resize();\r\n      focus();\r\n    };\r\n\r\n    const init = () => {\r\n      if (state.init) {\r\n        return;\r\n      }\r\n\r\n      adjust();\r\n      state.init = true;\r\n\r\n      /////// temp start ///////\r\n      if (location.hash.replace(\"#/\", \"\")) {\r\n        let arr = [];\r\n        // arr = [\r\n        //   \"reset\",\r\n        //   `\r\n\r\n        //   @root append footer 100\r\n        //   @root append footer 110\r\n        //   @root append footer 200\r\n        //   @root append footer 210\r\n        //  `,\r\n        // ];\r\n\r\n        const tempRun = (commands) => {\r\n          if (commands.length) {\r\n            setTimeout(() => {\r\n              state.text = commands.splice(0, 1)[0];\r\n              keyPressInTextarea({ key: \"Enter\", preventDefault: function() {} });\r\n\r\n              if (commands.length) {\r\n                tempRun(commands);\r\n              }\r\n            }, 1000);\r\n          }\r\n        };\r\n\r\n        tempRun(arr);\r\n      }\r\n      /////// temp end ///////\r\n    };\r\n\r\n    onMounted(() => {\r\n      setTimeout(() => {\r\n        init();\r\n      }, 250);\r\n    });\r\n\r\n    return {\r\n      store,\r\n      state,\r\n      init,\r\n      commandRef,\r\n      textareaRef,\r\n      historyRef,\r\n      textRef,\r\n      adjust,\r\n      focus,\r\n      keyPressInTextarea,\r\n      keyDownInTextarea,\r\n      resize,\r\n      runCommand,\r\n      runCommands,\r\n    };\r\n  },\r\n  watch: {\r\n    \"state.history.list\": {\r\n      handler() {\r\n        nextTick(() => {\r\n          this.resize();\r\n        });\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.component-command {\r\n  color: #fff;\r\n  font-size: 14px;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n\r\n  > .history {\r\n    overflow: auto;\r\n    -ms-overflow-style: none; /* IE and Edge */\r\n    scrollbar-width: none; /* Firefox */\r\n\r\n    > ul {\r\n      list-style: none;\r\n      padding: 16px 16px 0 15px;\r\n      margin: 0;\r\n\r\n      > li {\r\n        min-height: 21px;\r\n        white-space: pre;\r\n        position: relative;\r\n        padding-left: 14px;\r\n\r\n        &:before {\r\n          position: absolute;\r\n          left: 0;\r\n          top: 3px;\r\n          font-size: 11px;\r\n          content: \">\";\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n\r\n    &::-webkit-scrollbar {\r\n      display: none;\r\n    }\r\n\r\n    &.none > ul {\r\n      padding-top: 6px;\r\n    }\r\n  }\r\n\r\n  > .text {\r\n    padding: 8px 6px 6px 29px;\r\n    position: relative;\r\n\r\n    > textarea {\r\n      width: 100%;\r\n      height: 100%;\r\n      border: 0;\r\n      border-radius: 0;\r\n      background: inherit;\r\n      padding: 0;\r\n      color: #fff;\r\n      font-size: inherit;\r\n      line-height: 1.76;\r\n      resize: none;\r\n      -ms-overflow-style: none; /* IE and Edge */\r\n      scrollbar-width: none; /* Firefox */\r\n\r\n      &:hover,\r\n      &:focus {\r\n        border: 0;\r\n        outline: 0;\r\n      }\r\n\r\n      &::-webkit-scrollbar {\r\n        display: none;\r\n      }\r\n    }\r\n\r\n    &:before {\r\n      position: absolute;\r\n      left: 15px;\r\n      top: 12px;\r\n      font-size: 11px;\r\n      content: \">\";\r\n      line-height: 1.7;\r\n      color: #757575;\r\n    }\r\n  }\r\n\r\n  &.deactivated {\r\n    height: 41px;\r\n    border-top: 1px solid #3c3c3c;\r\n    position: absolute;\r\n    top: auto;\r\n    bottom: 0;\r\n    width: 100%;\r\n    padding-bottom: 0;\r\n    z-index: 1;\r\n\r\n    > .history {\r\n      display: none;\r\n    }\r\n\r\n    > .text {\r\n      height: 100% !important;\r\n    }\r\n  }\r\n\r\n  &.folded {\r\n    &[position=\"side\"] {\r\n      height: 100%;\r\n\r\n      > .text {\r\n        padding: 15px 2px;\r\n\r\n        &:before {\r\n          content: none;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Command.vue?vue&type=template&id=365cc899&scoped=true\"\nimport script from \"./Command.vue?vue&type=script&lang=js\"\nexport * from \"./Command.vue?vue&type=script&lang=js\"\n\nimport \"./Command.vue?vue&type=style&index=0&id=365cc899&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-365cc899\"\n\nexport default script","<template v-if=\"state.init\">\r\n  <div class=\"component-component-box clear\" :class=\"{ activated: state.component }\" :position=\"position\">\r\n    <div class=\"search\">\r\n      <i class=\"fa fa-filter\" />\r\n      <input type=\"text\" class=\"form-control\" ref=\"filterRef\" spellcheck=\"false\" placeholder=\"Filter the categories. / Press Alt + T to focus.\" v-model=\"state.filter\" />\r\n    </div>\r\n    <div class=\"wrapper\" v-if=\"categories.length\">\r\n      <div class=\"categories\">\r\n        <ul class=\"no-select\">\r\n          <li :class=\"{ active: state.category === c }\" v-for=\"(c, idx) in categories\" :key=\"idx\" @click=\"setCategory(c)\">{{ c }}</li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"list\" ref=\"listRef\">\r\n        <ul>\r\n          <li v-for=\"(c, idx) in state.components\" :class=\"{ active: state.component === c }\" :key=\"idx\">\r\n            <div class=\"preview\" :style=\"[c.trim ? 'padding:0;' : '']\">\r\n              <img :src=\"c.imgUrl + '?thumb=true'\" @click=\"setComponent(c)\" />\r\n            </div>\r\n            <div class=\"bottom\">\r\n              <div class=\"title\">\r\n                <b class=\"name\">{{ state.category + \" \" + c.num }}</b>\r\n                <span class=\"tags\">\r\n                  <span class=\"badge\" :class=\"['badge-' + badgets[t.charCodeAt(0) % badgets.length]]\" v-for=\"(t, idx) in c.tags\" :key=\"idx\">{{ t }}</span>\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div class=\"icons\">\r\n              <i class=\"remove fa fa-trash\" title=\"Remove\" @click=\"remove(c.num)\" v-if=\"custom\"></i>\r\n              <i class=\"upload fa fa-upload\" :title=\"sector === 'template' ? 'Set template' : 'Append to root'\" @click=\"runCommand(c.num)\"></i>\r\n              <i class=\"zoom fa fa-search\" title=\"Zoom\" @click=\"zoom(c.imgUrl, idx, c.num, c.trim)\"></i>\r\n              <i class=\"info fa fa-info\" title=\"Show info\" @click=\"read($event)\"></i>\r\n              <i class=\"unread\" title=\"Hide info\" @click=\"read($event)\">&times;</i>\r\n            </div>\r\n            <div class=\"desc\">\r\n              <div class=\"wrapper\">{{ custom ? `  ${sector === \"template\" ? \"\" : \"\"}.` : c.desc }}</div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <div class=\"empty\" v-else>\r\n      <div class=\"inner\">\r\n        <span v-if=\"custom\">  </span>\r\n        <span>{{ sector === \"template\" ? \"\" : \"\" }} .</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, nextTick, reactive, ref } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport httpLib from \"../libs/httpLib\";\r\nimport commLib from \"../libs/commonLib\";\r\nimport global from \"../global\";\r\nimport $ from \"jquery\";\r\n\r\nexport default {\r\n  props: {\r\n    callback: Function,\r\n    sector: String,\r\n    position: String,\r\n    custom: Boolean,\r\n  },\r\n  setup(props) {\r\n    const store = useStore();\r\n    const state = reactive({\r\n      init: false,\r\n      filter: \"\",\r\n      category: \"\",\r\n      categories: [],\r\n      component: null,\r\n      components: [],\r\n      command: null,\r\n    });\r\n\r\n    const badgets = [\"primary\", \"success\", \"danger\", \"warning\", \"secondary\", \"info\", \"navy\", \"ocean\", \"yellowgreen\", \"purple\", \"dark\"];\r\n    const filterRef = ref(null);\r\n    const inputRef = ref(null);\r\n    const listRef = ref(null);\r\n\r\n    const categories = computed(() => {\r\n      const result = state.categories.filter((x) => {\r\n        return x.includes(state.filter);\r\n      });\r\n\r\n      return result;\r\n    });\r\n\r\n    const copy = () => {\r\n      commLib.copy(inputRef.value.value);\r\n      commLib.message.show(\"success\", \" .\");\r\n    };\r\n\r\n    const focus = () => {\r\n      nextTick(() => {\r\n        filterRef.value.select();\r\n      });\r\n    };\r\n\r\n    const read = (e) => {\r\n      e.target.parentNode.parentNode.classList.toggle(\"read\");\r\n    };\r\n\r\n    const runCommand = (num) => {\r\n      const command = `@root ${props.sector === \"template\" ? \"template\" : \"append\"} ${state.category} ${num}`;\r\n      store.state.refs.console.commandRef.runCommands(command);\r\n    };\r\n\r\n    const zoom = (imgUrl, idx, num, trim) => {\r\n      props.callback(\r\n        \"open-modal\",\r\n        \"viewer\",\r\n        \"full\",\r\n        {\r\n          idx: idx,\r\n          list: state.components,\r\n          category: state.category,\r\n        },\r\n        trim\r\n      );\r\n    };\r\n\r\n    const closeComponent = () => {\r\n      state.component = null;\r\n      listRef.value.scrollTop = 0;\r\n    };\r\n\r\n    const remove = (num) => {\r\n      if (confirm(\"  ?\")) {\r\n        httpLib\r\n          .delete(`/api/components/${props.sector}/${state.category}/${num}`)\r\n          .then(() => {\r\n            commLib.message.show(\"success\", \".\");\r\n            closeComponent();\r\n            init(true);\r\n          })\r\n          .catch(() => {\r\n            commLib.message.show(\"error\", \" .\");\r\n          });\r\n      }\r\n    };\r\n\r\n    const setComponent = (c) => {\r\n      state.component = c;\r\n\r\n      nextTick(() => {\r\n        const paddingTop = Number(\r\n          window\r\n            .getComputedStyle(listRef.value, null)\r\n            .getPropertyValue(\"padding-top\")\r\n            .replace(\"px\", \"\")\r\n        );\r\n\r\n        const scrollTop = listRef.value.scrollTop + listRef.value.querySelector(\"li.active\").getBoundingClientRect().y - listRef.value.getBoundingClientRect().y - paddingTop;\r\n        $(listRef.value)\r\n          .stop()\r\n          .animate({ scrollTop: scrollTop }, 250);\r\n      });\r\n    };\r\n\r\n    const setCategory = (c) => {\r\n      if (state.category === c) {\r\n        return;\r\n      }\r\n\r\n      state.category = c;\r\n      state.component = null;\r\n      setComponents();\r\n    };\r\n\r\n    const setCategories = (callback) => {\r\n      httpLib.get(`/api/components/${props.sector}`, { custom: props.custom }).then((res) => {\r\n        state.categories = res.data;\r\n\r\n        if (typeof callback === \"function\") {\r\n          callback();\r\n        }\r\n      });\r\n    };\r\n\r\n    const setComponents = () => {\r\n      state.components = [];\r\n\r\n      httpLib.get(`/api/components/${props.sector}/${state.category}`, { custom: props.custom }).then((res) => {\r\n        if (Array.isArray(res.data)) {\r\n          const components = res.data;\r\n\r\n          for (let c of components) {\r\n            c.imgUrl = `${global.site.url}/components/preview/${props.sector}/${state.category}/${c.num}`;\r\n          }\r\n\r\n          state.components = components;\r\n        }\r\n      });\r\n    };\r\n\r\n    const init = (force) => {\r\n      if (state.init && !force) {\r\n        return;\r\n      }\r\n\r\n      setCategories(() => {\r\n        if (!state.category || !state.categories.includes(state.category)) {\r\n          state.category = state.categories[0];\r\n        }\r\n\r\n        if (state.category) {\r\n          setComponents();\r\n        }\r\n      });\r\n\r\n      state.init = true;\r\n    };\r\n\r\n    return {\r\n      store,\r\n      state,\r\n      init,\r\n      categories,\r\n      badgets,\r\n      filterRef,\r\n      inputRef,\r\n      listRef,\r\n      copy,\r\n      read,\r\n      zoom,\r\n      runCommand,\r\n      focus,\r\n      setCategory,\r\n      setCategories,\r\n      setComponent,\r\n      closeComponent,\r\n      remove,\r\n    };\r\n  },\r\n  watch: {\r\n    categories: {\r\n      handler() {\r\n        if (this.state.filter && this.categories.length) {\r\n          this.setCategory(this.categories[0]);\r\n        }\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.component-component-box {\r\n  height: 100%;\r\n  color: #fff;\r\n  font-size: 14px;\r\n  position: relative;\r\n  padding-top: 40px;\r\n\r\n  > .search {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 40px;\r\n    background: #262626;\r\n    padding-left: 25px;\r\n  }\r\n\r\n  > .search i {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    height: 100%;\r\n    width: 25px;\r\n    color: #545454;\r\n    text-align: right;\r\n    line-height: 40px;\r\n  }\r\n\r\n  > .search input {\r\n    height: 100%;\r\n    font-size: 13px;\r\n    border-radius: 0;\r\n    background: none;\r\n    border: 0;\r\n    box-shadow: none;\r\n    padding-left: 10px;\r\n    outline: 0;\r\n    color: #fff;\r\n  }\r\n\r\n  > .wrapper {\r\n    height: 100%;\r\n    position: relative;\r\n\r\n    > div {\r\n      float: left;\r\n      height: 100%;\r\n      overflow: auto;\r\n      -ms-overflow-style: none; /* IE and Edge */\r\n      scrollbar-width: none; /* Firefox */\r\n\r\n      &.categories {\r\n        position: relative;\r\n        overflow: auto;\r\n        min-width: 100px;\r\n        border-right: 1px solid #3c3c3c;\r\n        z-index: 2;\r\n\r\n        ul {\r\n          list-style: none;\r\n          margin: 0;\r\n          padding: 0;\r\n\r\n          li {\r\n            cursor: pointer;\r\n            padding: 10px 14px;\r\n            border-bottom: 1px solid #3c3c3c;\r\n            font-size: 13px;\r\n\r\n            &:last-child {\r\n              border-bottom: 0;\r\n            }\r\n\r\n            &.active {\r\n              color: #0095ff;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      &.list {\r\n        position: absolute;\r\n        padding: 10px 15px 15px 110px;\r\n        width: 100%;\r\n        left: 0;\r\n        top: 0;\r\n\r\n        > ul {\r\n          list-style: none;\r\n          margin: 0;\r\n          padding: 0;\r\n\r\n          > li {\r\n            display: inline-block;\r\n            width: 345px;\r\n            max-width: 100%;\r\n            margin: 5px;\r\n            background: #fff;\r\n            border: 1px solid #3c3c3c;\r\n            color: #333;\r\n            vertical-align: top;\r\n            position: relative;\r\n\r\n            > .preview {\r\n              padding: 10px;\r\n              position: relative;\r\n              font-size: 0;\r\n              min-height: 34px;\r\n              text-align: center;\r\n            }\r\n\r\n            > .bottom {\r\n              padding: 10px 12.5px;\r\n              background: #f7f7f7;\r\n              border-top: 1px solid #ced4da;\r\n\r\n              > .title {\r\n                padding: 2.5px 0;\r\n\r\n                > .tags {\r\n                  font-family: initial;\r\n                  float: right;\r\n                  padding: 2.5px 0;\r\n                  text-align: right;\r\n                  line-height: 15px;\r\n\r\n                  > .badge {\r\n                    border-radius: 0;\r\n                    font-size: 10px;\r\n                    margin-right: 1px;\r\n\r\n                    &:last-child {\r\n                      margin-right: 0;\r\n                    }\r\n                  }\r\n                }\r\n\r\n                &:after {\r\n                  content: \" \";\r\n                  display: table;\r\n                  clear: right;\r\n                }\r\n              }\r\n            }\r\n\r\n            > .icons {\r\n              display: none;\r\n              position: absolute;\r\n              top: 0;\r\n              right: 0;\r\n              text-align: right;\r\n              width: 100%;\r\n              z-index: 1;\r\n\r\n              > i {\r\n                background: rgba(0, 0, 0, 0.5);\r\n                display: inline-block;\r\n                color: #fff;\r\n                cursor: pointer;\r\n                vertical-align: middle;\r\n                text-align: center;\r\n                width: 34px;\r\n                height: 34px;\r\n                line-height: 34px;\r\n\r\n                &.unread {\r\n                  font-size: 25px;\r\n                  font-style: normal;\r\n                  line-height: 1.4;\r\n                }\r\n\r\n                &:hover {\r\n                  background: rgba(0, 0, 0, 0.75);\r\n                }\r\n              }\r\n            }\r\n\r\n            > .desc {\r\n              display: none;\r\n              position: absolute;\r\n              left: 0;\r\n              top: 0;\r\n              width: 100%;\r\n              height: 100%;\r\n              background: rgba(0, 0, 0, 0.85);\r\n              color: #fff;\r\n\r\n              > .wrapper {\r\n                position: absolute;\r\n                top: 50%;\r\n                transform: translateY(-50%);\r\n                padding: 15px;\r\n              }\r\n            }\r\n\r\n            &:hover {\r\n              > .icons {\r\n                display: inline-block;\r\n              }\r\n            }\r\n\r\n            &:not(.read) {\r\n              > .icons > i.unread {\r\n                display: none;\r\n              }\r\n            }\r\n\r\n            &.read {\r\n              > .icons {\r\n                > i {\r\n                  &.info {\r\n                    display: none;\r\n                  }\r\n\r\n                  &.unread {\r\n                    display: inline-block;\r\n                  }\r\n\r\n                  &:hover {\r\n                    background: rgba(58, 58, 58, 0.75);\r\n                  }\r\n                }\r\n              }\r\n\r\n              > .desc {\r\n                display: block;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      &::-webkit-scrollbar {\r\n        display: none;\r\n      }\r\n    }\r\n  }\r\n\r\n  > .empty {\r\n    display: table;\r\n    height: 100%;\r\n    width: 100%;\r\n\r\n    > .inner {\r\n      display: table-cell;\r\n      text-align: center;\r\n      vertical-align: middle;\r\n    }\r\n  }\r\n\r\n  &.activated {\r\n    > .wrapper {\r\n      > div {\r\n        &.center {\r\n          width: 475px;\r\n          border-right: 1px solid #3c3c3c;\r\n\r\n          ul {\r\n            li {\r\n              opacity: 0.25;\r\n\r\n              &.active {\r\n                opacity: 1;\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        &.right {\r\n          padding-left: 475px;\r\n          left: 0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  &[position=\"side\"] {\r\n    > .wrapper {\r\n      > div {\r\n        &.center {\r\n          > ul > li {\r\n            width: 400px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    &.activated {\r\n      > .wrapper {\r\n        > div {\r\n          &.center {\r\n            display: none;\r\n          }\r\n\r\n          &.right {\r\n            padding-left: 100px;\r\n\r\n            > .wrapper {\r\n              > div {\r\n                width: 100%;\r\n                height: auto;\r\n                float: none;\r\n\r\n                &.side {\r\n                  padding-top: 0;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Box.vue?vue&type=template&id=748712e1&scoped=true\"\nimport script from \"./Box.vue?vue&type=script&lang=js\"\nexport * from \"./Box.vue?vue&type=script&lang=js\"\n\nimport \"./Box.vue?vue&type=style&index=0&id=748712e1&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-748712e1\"\n\nexport default script","import { render } from \"./Console.vue?vue&type=template&id=1a904ef1&scoped=true\"\nimport script from \"./Console.vue?vue&type=script&lang=js\"\nexport * from \"./Console.vue?vue&type=script&lang=js\"\n\nimport \"./Console.vue?vue&type=style&index=0&id=1a904ef1&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-1a904ef1\"\n\nexport default script","<template>\r\n  <div class=\"component-webview\">\r\n    <iframe ref=\"iframeRef\" :src=\"initUrl\" :class=\"{ 'dragging no-select': state.dragging }\"></iframe>\r\n    <div class=\"loading\" v-if=\"!state.loaded\">\r\n      <Loading />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, onMounted, reactive, ref } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport global from \"../global\";\r\nimport Loading from \"./Loading\";\r\n\r\nexport default {\r\n  props: {\r\n    page: String,\r\n    postback: Function,\r\n  },\r\n  components: { Loading },\r\n  setup(props) {\r\n    const store = useStore();\r\n    const state = reactive({\r\n      init: false,\r\n      dragging: false,\r\n      loaded: false,\r\n      url: computed(() => `${global.site.url}/pages/${props.page}/${store.state.page.seq}`),\r\n    });\r\n\r\n    const initUrl = `${global.site.url}/pages/init`;\r\n    const iframeRef = ref(null);\r\n\r\n    const load = (seq, max) => {\r\n      if (seq === store.state.page.seq) {\r\n        reload();\r\n      } else {\r\n        store.commit(\"setPage\", {\r\n          ...store.state.page,\r\n          seq: seq,\r\n        });\r\n      }\r\n\r\n      if (max && seq !== store.state.page.maxSeq) {\r\n        store.commit(\"setPage\", {\r\n          ...store.state.page,\r\n          maxSeq: seq,\r\n        });\r\n      }\r\n    };\r\n\r\n    const reload = () => {\r\n      state.loaded = false;\r\n      postMessage(\"reload\");\r\n    };\r\n\r\n    const postMessage = (type, value) => {\r\n      iframeRef.value.contentWindow.postMessage(\r\n        {\r\n          type: type,\r\n          value: value,\r\n        },\r\n        global.site.url\r\n      );\r\n    };\r\n\r\n    window.addEventListener(\"message\", (e) => {\r\n      props.postback(e.data.type, e.data.value1, e.data.value2, e.data.value3, e.data.value4);\r\n    });\r\n\r\n    onMounted(() => {\r\n      iframeRef.value.onload = () => {\r\n        state.loaded = true;\r\n\r\n        if (!state.init) {\r\n          state.init = true;\r\n          postMessage(\"location-replace\", state.url);\r\n        }\r\n      };\r\n    });\r\n\r\n    return { state, initUrl, iframeRef, load, reload, postMessage };\r\n  },\r\n  watch: {\r\n    \"state.url\": {\r\n      handler() {\r\n        this.postMessage(\"location-replace\", this.state.url);\r\n        this.state.loaded = false;\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.component-webview {\r\n  height: 100%;\r\n  position: relative;\r\n\r\n  > iframe {\r\n    width: 100%;\r\n    height: 100%;\r\n    border: 0;\r\n\r\n    &.dragging {\r\n      pointer-events: none;\r\n    }\r\n  }\r\n\r\n  > .loading {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 50%;\r\n    width: 100%;\r\n    text-align: center;\r\n    margin-top: -100px;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div className=\"component-loading\"></div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n@keyframes spin {\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n\r\n  50% {\r\n    opacity: 0.5;\r\n  }\r\n\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n.component-loading {\r\n  display: inline-block;\r\n  border: 3px solid #ddd;\r\n  border-top: 3px solid #07c;\r\n  border-radius: 50%;\r\n  width: 30px;\r\n  height: 30px;\r\n  animation: spin 1s ease-in-out infinite;\r\n}\r\n</style>","import { render } from \"./Loading.vue?vue&type=template&id=4e315aba&scoped=true\"\nconst script = {}\n\nimport \"./Loading.vue?vue&type=style&index=0&id=4e315aba&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-4e315aba\"\n\nexport default script","import { render } from \"./Webview.vue?vue&type=template&id=6685cc54&scoped=true\"\nimport script from \"./Webview.vue?vue&type=script&lang=js\"\nexport * from \"./Webview.vue?vue&type=script&lang=js\"\n\nimport \"./Webview.vue?vue&type=style&index=0&id=6685cc54&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-6685cc54\"\n\nexport default script","<template>\r\n  <div class=\"component-home\">\r\n    <header>\r\n      <div class=\"inner\">\r\n        <h1 class=\"font-parisienne color-point\">Publessing</h1>\r\n        <br />\r\n        <h3 class=\"font-parisienne color-point\">Draw the UI with commands</h3>\r\n        <hr />\r\n        <template v-if=\"login\">\r\n          <h2>Enter \"<b>create startup</b>\"</h2>\r\n          <h2>then \"<b>open startup</b>\"</h2>\r\n        </template>\r\n        <template v-else>\r\n          <h2>Enter \"<b>join</b>\" to create account</h2>\r\n          <h2>or \"<b>login</b>\" to use the service</h2>\r\n        </template>\r\n        <button class=\"btn btn-point\" @click=\"callback('open-console', !folded)\" :title=\"`${folded ? 'Open' : 'Close'} Console (Alt + D)`\">\r\n          <span v-if=\"folded\">OPEN </span>\r\n          <span v-else>CLOSE </span>\r\n          <span>CONSOLE</span>\r\n        </button>\r\n      </div>\r\n    </header>\r\n    <article>\r\n      <div class=\"wrapper\">\r\n        <div class=\"title\">Service Guide</div>\r\n        <div class=\"content\">\r\n          <h1></h1>\r\n          <div class=\"block\">\r\n            <h2> </h2>\r\n            <ul>\r\n              <li> <b class=\"pointer-u\" @click=\"callback('open-console', false)\">OPEN CONSOLE</b>  .</li>\r\n            </ul>\r\n          </div>\r\n          <div class=\"block\">\r\n            <h2></h2>\r\n            <ul>\r\n              <li> <b>join</b>    .</li>\r\n            </ul>\r\n          </div>\r\n          <div class=\"block\">\r\n            <h2></h2>\r\n            <ul>\r\n              <li> <b>login</b>    .</li>\r\n            </ul>\r\n          </div>\r\n          <div class=\"block\">\r\n            <h2> </h2>\r\n            <ul>\r\n              <li> <b>create </b>    .</li>\r\n            </ul>\r\n          </div>\r\n          <div class=\"block\">\r\n            <h2> </h2>\r\n            <ul>\r\n              <li> <b>open </b>    .</li>\r\n            </ul>\r\n          </div>\r\n          <h1></h1>\r\n          <div class=\"block\">\r\n            <h2> </h2>\r\n            <table class=\"table table-bordered\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Command</th>\r\n                  <th>Description</th>\r\n                  <th>Arguments</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"(c, idx) in commands.console\" :key=\"idx\">\r\n                  <td>{{ c.cmd }}</td>\r\n                  <td>{{ c.desc }}</td>\r\n                  <td>{{ c.args.join(\" \") }}</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div class=\"block\">\r\n            <h2> </h2>\r\n            <table class=\"table table-bordered\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Command</th>\r\n                  <th>Description</th>\r\n                  <th>Arguments</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"(c, idx) in commands.node\" :key=\"idx\">\r\n                  <td>{{ c.cmd }}</td>\r\n                  <td>{{ c.desc }}</td>\r\n                  <td>{{ c.args.join(\" \") }}</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </article>\r\n    <footer>\r\n      <div class=\"wrapper\">\r\n        <a class=\"brand\">Publessing</a>\r\n        <div class=\"copyright\">&copy; 2021. Publessing. All rights reserved.</div>\r\n      </div>\r\n    </footer>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { computed } from \"@vue/runtime-core\";\r\nimport { useStore } from \"vuex\";\r\nimport global from \"../global\";\r\n\r\nexport default {\r\n  props: {\r\n    login: Boolean,\r\n    callback: Function,\r\n  },\r\n  setup() {\r\n    const store = useStore();\r\n    const commands = {\r\n      console: [],\r\n      node: [],\r\n    };\r\n    const definedCommands = global.defines.commands;\r\n\r\n    const folded = computed(() => {\r\n      if (store.state.refs.console) {\r\n        return store.state.refs.console.state.folded;\r\n      }\r\n\r\n      return false;\r\n    });\r\n\r\n    for (let i1 in definedCommands) {\r\n      for (let i2 in definedCommands[i1]) {\r\n        for (let c of definedCommands[i1][i2]) {\r\n          commands[i1].push(c);\r\n        }\r\n      }\r\n    }\r\n\r\n    for (let i in commands) {\r\n      commands[i].sort((a, b) => {\r\n        if (a.cmd < b.cmd) {\r\n          return -1;\r\n        } else if (a.cmd > b.cmd) {\r\n          return 1;\r\n        }\r\n\r\n        return 0;\r\n      });\r\n    }\r\n\r\n    return { folded, commands };\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.component-home {\r\n  height: 100%;\r\n  overflow: auto;\r\n\r\n  .wrapper {\r\n    width: 1140px;\r\n    margin: 0 auto;\r\n    max-width: 100%;\r\n    padding: 0 15px;\r\n  }\r\n\r\n  > header {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: table;\r\n    padding: 50px 0;\r\n    position: relative;\r\n    text-align: center;\r\n\r\n    > .inner {\r\n      display: table-cell;\r\n      vertical-align: middle;\r\n\r\n      > img {\r\n        height: 100px;\r\n        margin-bottom: 42px;\r\n      }\r\n\r\n      > h1 {\r\n        font-size: 80px;\r\n        font-weight: bold;\r\n      }\r\n\r\n      > h2 {\r\n        font-size: 28px;\r\n      }\r\n\r\n      > h3 {\r\n        font-weight: bold;\r\n      }\r\n\r\n      > hr {\r\n        margin: 55px 0;\r\n      }\r\n\r\n      > button {\r\n        margin-top: 50px;\r\n        width: 300px;\r\n        height: 60px;\r\n        line-height: 60px;\r\n        font-size: 18px;\r\n        padding: 0;\r\n        box-shadow: none;\r\n        outline: 0;\r\n        border-radius: 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  > article {\r\n    min-height: 100%;\r\n    padding: 50px 0 25px 0;\r\n    border-top: 1px solid #ddd;\r\n\r\n    > .wrapper {\r\n      > .title {\r\n        font-size: 24px;\r\n        font-weight: bold;\r\n      }\r\n\r\n      > .content {\r\n        h1 {\r\n          font-size: 18px;\r\n          font-weight: 600;\r\n          padding-bottom: 20px;\r\n          margin-top: 35px;\r\n          margin-bottom: 20px;\r\n          border-bottom: 1px solid #ddd;\r\n        }\r\n\r\n        h2 {\r\n          font-size: 16px;\r\n        }\r\n\r\n        .block {\r\n          padding-left: 25px;\r\n          margin-bottom: 15px;\r\n          padding-top: 5px;\r\n          padding-bottom: 5px;\r\n\r\n          table {\r\n            margin-top: 25px;\r\n\r\n            th {\r\n              background: #f3f7fb;\r\n              border-bottom-width: 1px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  > footer {\r\n    border-top: 1px solid #ddd;\r\n    padding: 30px 0;\r\n\r\n    > .wrapper:after {\r\n      content: \"\";\r\n      clear: both;\r\n      display: table;\r\n    }\r\n\r\n    .brand {\r\n      float: left;\r\n      color: #1259a7;\r\n      cursor: pointer;\r\n      font-family: \"Parisienne\", cursive;\r\n      font-size: 42px;\r\n      font-weight: bold;\r\n      padding-right: 50px;\r\n      text-decoration: none;\r\n    }\r\n\r\n    .copyright {\r\n      padding: 17.5px 0;\r\n      float: left;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Home.vue?vue&type=template&id=725ea076&scoped=true\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=725ea076&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-725ea076\"\n\nexport default script","<template>\r\n  <div class=\"modal-join\">\r\n    <div class=\"pt-4 pb-4 text-center\">\r\n      <h1 class=\"font-parisienne color-point\">Publessing</h1>\r\n      <h3>Create account</h3>\r\n    </div>\r\n    <div class=\"form mt-2\">\r\n      <template v-if=\"state.step <= 2\">\r\n        <div class=\"mb-4\">\r\n          <label for=\"email\">Email</label>\r\n          <input type=\"email\" class=\"form-control\" id=\"email\" v-model=\"state.account.email\" placeholder=\"name@publessing.io\" autocomplete=\"off\" @keypress.enter=\"send()\" ref=\"emailRef\" :disabled=\"state.loading || state.step !== 1\" />\r\n        </div>\r\n      </template>\r\n      <template v-if=\"state.step === 2\">\r\n        <div class=\"mb-4\">\r\n          <label for=\"code\">Code</label>\r\n          <input type=\"text\" class=\"form-control text-center\" id=\"code\" v-model=\"state.account.code\" @keyup=\"keyup($event)\" @keypress.enter=\"verify()\" autocomplete=\"off\" maxlength=\"6\" :disabled=\"state.loading\" />\r\n        </div>\r\n      </template>\r\n      <template v-else-if=\"state.step === 3\">\r\n        <div class=\"mb-4\">\r\n          <label for=\"password\">Password</label>\r\n          <input type=\"password\" class=\"form-control\" id=\"password\" v-model=\"state.account.password\" @keypress.enter=\"create()\" :disabled=\"state.loading\" />\r\n        </div>\r\n        <div class=\"mb-4\">\r\n          <label for=\"confirmPassword\">Confirm Password</label>\r\n          <input type=\"password\" class=\"form-control\" id=\"confirmPassword\" v-model=\"state.account.confirmPassword\" @keypress.enter=\"create()\" :disabled=\"state.loading\" />\r\n        </div>\r\n      </template>\r\n      <div class=\"actions\">\r\n        <button class=\"btn btn-lg btn-block btn-point no-radius\" type=\"button\" v-if=\"state.loading\" disabled>Wait a moment ...</button>\r\n        <button class=\"btn btn-lg btn-block btn-point no-radius\" type=\"button\" @click=\"send()\" v-else-if=\"state.step === 1\">Send verification code</button>\r\n        <button class=\"btn btn-lg btn-block btn-point no-radius\" type=\"button\" @click=\"verify()\" v-else-if=\"state.step === 2\">Verify Email</button>\r\n        <button class=\"btn btn-lg btn-block btn-point no-radius\" type=\"button\" @click=\"create()\" v-else-if=\"state.step === 3\">Create Account</button>\r\n        <div class=\"prev\" v-if=\"state.step > 1\">\r\n          <a @click=\"state.step -= 1\">Prev step</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { nextTick, onMounted, reactive, ref } from \"vue\";\r\nimport commLib from \"../libs/commonLib\";\r\nimport httpLib from \"../libs/httpLib\";\r\nexport default {\r\n  props: {\r\n    callback: Function,\r\n  },\r\n  setup(props) {\r\n    const state = reactive({\r\n      step: 1,\r\n      loading: false,\r\n      account: {\r\n        email: \"\",\r\n        code: \"\",\r\n        password: \"\",\r\n        confirmPassword: \"\",\r\n      },\r\n    });\r\n\r\n    const emailRef = ref(null);\r\n\r\n    const keyup = (e) => {\r\n      if ((e.target.value && e.target.value.length === 6 && e.keyCode >= 48 && e.keyCode <= 57) || (e.keyCode >= 96 && e.keyCode <= 105)) {\r\n        verify();\r\n      }\r\n    };\r\n\r\n    const send = () => {\r\n      if (!state.account.email) {\r\n        commLib.message.show(\"warning\", \"  .\");\r\n        document.getElementById(\"email\").focus();\r\n      } else if (!commLib.isValidEmail(state.account.email)) {\r\n        commLib.message.show(\"warning\", \"    .\");\r\n        document.getElementById(\"email\").select();\r\n      } else {\r\n        state.loading = true;\r\n\r\n        httpLib\r\n          .post(\"/api/account/send\", { email: state.account.email })\r\n          .then(() => {\r\n            state.loading = false;\r\n            commLib.message.show(\"success\", \"    .     .\");\r\n            state.step = 2;\r\n            nextTick(() => {\r\n              document.getElementById(\"code\").focus();\r\n            });\r\n          })\r\n          .catch((err) => {\r\n            state.loading = false;\r\n\r\n            switch (err.response?.status) {\r\n              case 404:\r\n                commLib.message.show(\"warning\", \"   .\");\r\n                break;\r\n\r\n              case 409:\r\n                commLib.message.show(\"warning\", \"   .\");\r\n                document.getElementById(\"email\").focus();\r\n                break;\r\n\r\n              case 429:\r\n                commLib.message.show(\"warning\", \"   .    .\");\r\n                break;\r\n\r\n              default:\r\n                commLib.message.show(\"danger\", \" .\");\r\n                break;\r\n            }\r\n          });\r\n      }\r\n    };\r\n\r\n    const verify = () => {\r\n      const args = {\r\n        email: state.account.email,\r\n        code: state.account.code,\r\n      };\r\n\r\n      if (!args.code) {\r\n        commLib.message.show(\"warning\", \"  .\");\r\n        document.getElementById(\"code\").focus();\r\n        return;\r\n      }\r\n\r\n      state.loading = true;\r\n\r\n      httpLib\r\n        .post(\"/api/account/verify\", args)\r\n        .then(() => {\r\n          state.loading = false;\r\n          commLib.message.show(\"success\", \"  .  .\");\r\n          state.step = 3;\r\n\r\n          nextTick(() => {\r\n            document.getElementById(\"password\").focus();\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          state.loading = false;\r\n\r\n          switch (err.response?.status) {\r\n            case 403:\r\n              commLib.message.show(\"warning\", \"    .\");\r\n              break;\r\n\r\n            case 404:\r\n              commLib.message.show(\"warning\", \"   .\");\r\n              nextTick(() => {\r\n                document.getElementById(\"code\").focus();\r\n              });\r\n              break;\r\n\r\n            default:\r\n              commLib.message.show(\"danger\", \" .\");\r\n              break;\r\n          }\r\n        });\r\n    };\r\n\r\n    const create = () => {\r\n      if (!state.account.password) {\r\n        commLib.message.show(\"warning\", \" .\");\r\n        document.getElementById(\"password\").focus();\r\n      } else if (!state.account.confirmPassword) {\r\n        commLib.message.show(\"warning\", \"    .\");\r\n        document.getElementById(\"confirmPassword\").focus();\r\n      } else if (state.account.password !== state.account.confirmPassword) {\r\n        commLib.message.show(\"warning\", \"    .\");\r\n        document.getElementById(\"confirmPassword\").select();\r\n      } else if (state.account.password.length < 8 || state.account.password.length > 21) {\r\n        commLib.message.show(\"warning\", \" 8  21  .\");\r\n        document.getElementById(\"password\").select();\r\n      } else {\r\n        state.loading = true;\r\n\r\n        httpLib\r\n          .post(\"/api/account/join\", state.account)\r\n          .then(() => {\r\n            state.loading = false;\r\n            commLib.message.show(\"success\", \" . .\");\r\n            props.callback(\"close-modal\");\r\n          })\r\n          .catch((err) => {\r\n            state.loading = false;\r\n\r\n            switch (err.response?.status) {\r\n              case 403:\r\n                commLib.message.show(\"warning\", \"    .\");\r\n                break;\r\n\r\n              case 404:\r\n                commLib.message.show(\"warning\", \"   .\");\r\n                break;\r\n\r\n              case 409:\r\n                commLib.message.show(\"warning\", \"   .\");\r\n                break;\r\n\r\n              default:\r\n                commLib.message.show(\"danger\", \" .\");\r\n                break;\r\n            }\r\n          });\r\n      }\r\n    };\r\n\r\n    onMounted(() => {\r\n      setTimeout(() => {\r\n        emailRef.value.focus();\r\n      }, 250);\r\n    });\r\n\r\n    return { state, emailRef, keyup, send, verify, create };\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.modal-join {\r\n  padding: 25px;\r\n\r\n  h1 {\r\n    font-weight: bold;\r\n    font-size: 50px;\r\n  }\r\n\r\n  h3 {\r\n    margin-top: 25px;\r\n  }\r\n\r\n  input {\r\n    height: 50px;\r\n    border-radius: 0;\r\n\r\n    &:focus {\r\n      outline: 0;\r\n      box-shadow: none;\r\n      border-color: #146ece;\r\n    }\r\n  }\r\n\r\n  .actions {\r\n    padding-top: 10px;\r\n\r\n    button {\r\n      font-size: 16px;\r\n      height: 50px;\r\n    }\r\n\r\n    .prev {\r\n      padding-top: 15px;\r\n      text-align: center;\r\n\r\n      > a {\r\n        cursor: pointer;\r\n\r\n        &:hover {\r\n          text-decoration: underline;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Join.vue?vue&type=template&id=3905096a&scoped=true\"\nimport script from \"./Join.vue?vue&type=script&lang=js\"\nexport * from \"./Join.vue?vue&type=script&lang=js\"\n\nimport \"./Join.vue?vue&type=style&index=0&id=3905096a&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-3905096a\"\n\nexport default script","<template>\r\n  <div class=\"modal-login\">\r\n    <div class=\"pt-4 pb-4 text-center\">\r\n      <h1 class=\"font-parisienne color-point\">Publessing</h1>\r\n      <h3>Login with email</h3>\r\n    </div>\r\n    <div class=\"form mt-2\">\r\n      <div class=\"mb-4\">\r\n        <label for=\"email\">Email</label>\r\n        <input type=\"email\" class=\"form-control\" id=\"email\" v-model=\"state.account.email\" placeholder=\"name@publessing.io\" autocomplete=\"off\" @keypress.enter=\"login()\" ref=\"emailRef\" />\r\n      </div>\r\n      <div class=\"mb-5\">\r\n        <label for=\"password\">Password</label>\r\n        <input type=\"password\" class=\"form-control\" id=\"password\" v-model=\"state.account.password\" @keypress.enter=\"login()\" />\r\n      </div>\r\n      <button class=\"btnbtn-lg btn-block btn-point no-radius\" type=\"button\" @click=\"login()\">LOGIN</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { onMounted, reactive, ref } from \"vue\";\r\nimport httpLib from \"../libs/httpLib\";\r\nimport commLib from \"../libs/commonLib\";\r\n\r\nexport default {\r\n  props: {\r\n    callback: Function,\r\n  },\r\n  setup(props) {\r\n    const state = reactive({\r\n      account: {\r\n        email: \"\",\r\n        password: \"\",\r\n      },\r\n    });\r\n\r\n    const emailRef = ref(null);\r\n\r\n    const login = () => {\r\n      if (!state.account.password || !state.account.password.trim()) {\r\n        document.getElementById(\"password\").focus();\r\n        return commLib.message.show(\"warning\", \" .\");\r\n      }\r\n\r\n      httpLib\r\n        .post(\"/api/account/login\", state.account)\r\n        .then((res) => {\r\n          switch (res.status) {\r\n            case 200:\r\n              commLib.message.show(\"success\", \".\");\r\n              props.callback(\"check-login\");\r\n              props.callback(\"close-modal\");\r\n              props.callback(\"go\");\r\n              break;\r\n\r\n            default:\r\n              commLib.message.show(\"danger\", \" .\");\r\n              break;\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          switch (err.response?.status) {\r\n            case 404:\r\n              commLib.message.show(\"warning\", \"   .   .\");\r\n              break;\r\n\r\n            case 429:\r\n              commLib.message.show(\"warning\", \"  .\");\r\n              break;\r\n\r\n            default:\r\n              commLib.message.show(\"danger\", \" .\");\r\n              break;\r\n          }\r\n        });\r\n    };\r\n\r\n    onMounted(() => {\r\n      setTimeout(() => {\r\n        emailRef.value.focus();\r\n      }, 250);\r\n    });\r\n\r\n    return {\r\n      state,\r\n      emailRef,\r\n      login,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.modal-login {\r\n  padding: 25px;\r\n\r\n  h1 {\r\n    font-weight: bold;\r\n    font-size: 50px;\r\n  }\r\n\r\n  h3 {\r\n    margin-top: 25px;\r\n  }\r\n\r\n  input {\r\n    height: 50px;\r\n    border-radius: 0;\r\n\r\n    &:focus {\r\n      outline: 0;\r\n      box-shadow: none;\r\n      border-color: #146ece;\r\n    }\r\n  }\r\n\r\n  button {\r\n    font-size: 16px;\r\n    height: 50px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Login.vue?vue&type=template&id=50eb3e91&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=50eb3e91&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-50eb3e91\"\n\nexport default script","<template>\r\n  <div class=\"modal-comment\">\r\n    <div class=\"header\">\r\n      <div class=\"inner\">\r\n        <div class=\"title\">\r\n          <i class=\"fa fa-commenting-o\"></i>\r\n          <span>Leave a comment.</span>\r\n        </div>\r\n        <button class=\"submit btn btn-point\" tabindex=\"20\" @click=\"submit()\">Submit</button>\r\n        <button class=\"refresh btn\" @click=\"set(true)\">\r\n          <i class=\"fa fa-refresh\"></i>\r\n        </button>\r\n      </div>\r\n      <textarea class=\"form-control\" placeholder=\"Type your comment here.\" v-model=\"state.message\" ref=\"textRef\" tabindex=\"10\"></textarea>\r\n    </div>\r\n    <div class=\"comments\" v-if=\"state.comment.count\">\r\n      <ul>\r\n        <li v-for=\"(c, idx) in state.comment.list\" :key=\"idx\">\r\n          <div class=\"symbol font-parisienne\">{{ c.writer === \"unknown\" ? \"?\" : c.writer[0] }}</div>\r\n          <div class=\"header\">\r\n            <span class=\"writer\">{{ c.writer }}</span>\r\n            <div class=\"actions\">\r\n              <button class=\"remove\" @click=\"remove(c.id)\">\r\n                <i class=\"fa fa-trash\" v-if=\"c.mid === store.state.account.mid\"></i>\r\n              </button>\r\n            </div>\r\n            <span class=\"date\" :title=\"c.insDate\">{{ c.ago }}</span>\r\n          </div>\r\n          <div class=\"message\">{{ c.message }}</div>\r\n        </li>\r\n      </ul>\r\n      <div class=\"more\" v-if=\"state.comment.count && state.comment.list.length < state.comment.count\">\r\n        <button @click=\"expand()\">Load more</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { reactive, ref } from \"@vue/reactivity\";\r\nimport { onMounted } from \"@vue/runtime-core\";\r\nimport commLib from \"../libs/commonLib\";\r\nimport httpLib from \"../libs/httpLib\";\r\nimport { useStore } from \"vuex\";\r\n\r\nexport default {\r\n  props: {},\r\n  setup() {\r\n    const store = useStore();\r\n    const state = reactive({\r\n      page: 1,\r\n      message: \"\",\r\n      comment: {\r\n        count: 0,\r\n        list: [],\r\n      },\r\n    });\r\n\r\n    const textRef = ref();\r\n\r\n    const expand = () => {\r\n      state.page += 1;\r\n      set();\r\n    };\r\n\r\n    const submit = () => {\r\n      if (!state.message) {\r\n        commLib.message.show(\"warning\", \" .\");\r\n        textRef.value.focus();\r\n        return;\r\n      }\r\n\r\n      httpLib\r\n        .post(\"/api/comments/submit\", { message: state.message })\r\n        .then(() => {\r\n          state.message = \"\";\r\n          commLib.message.show(\"success\", \" \");\r\n          set(true);\r\n        })\r\n        .catch(() => {\r\n          commLib.message.show(\"error\", \" .\");\r\n        });\r\n    };\r\n\r\n    const remove = (id) => {\r\n      if (confirm(\"  ?\")) {\r\n        httpLib\r\n          .delete(\"/api/comments/\" + id)\r\n          .then(() => {\r\n            commLib.message.show(\"success\", \".\");\r\n            set(true);\r\n          })\r\n          .catch(() => {\r\n            commLib.message.show(\"error\", \" .\");\r\n          });\r\n      }\r\n    };\r\n\r\n    const set = (init) => {\r\n      if (init) {\r\n        state.page = 1;\r\n        state.comment.list = [];\r\n      }\r\n\r\n      const args = {\r\n        message: state.message,\r\n        page: state.page,\r\n      };\r\n\r\n      httpLib.get(\"/api/comments\", args).then((res) => {\r\n        if (res.data && Array.isArray(res.data.list)) {\r\n          state.comment.count = res.data.count;\r\n          state.comment.list.push(...res.data.list);\r\n        }\r\n      });\r\n    };\r\n\r\n    onMounted(() => {\r\n      set(true);\r\n      setTimeout(() => {\r\n        textRef.value.focus();\r\n      }, 250);\r\n    });\r\n\r\n    return { store, state, textRef, set, remove, expand, submit };\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n$backgroundColor: #f7f7f7;\r\n\r\n.modal-comment {\r\n  background: $backgroundColor;\r\n\r\n  > .header {\r\n    position: sticky;\r\n    background: $backgroundColor;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    font-size: 20px;\r\n    padding: 25px;\r\n    z-index: 1;\r\n\r\n    > .inner {\r\n      margin-bottom: 15px;\r\n\r\n      .title {\r\n        float: left;\r\n\r\n        > i {\r\n          margin-right: 10px;\r\n        }\r\n      }\r\n\r\n      &:after {\r\n        content: \"\";\r\n        display: table;\r\n        clear: both;\r\n      }\r\n\r\n      > button {\r\n        float: right;\r\n        border-radius: 0;\r\n        padding-top: 0;\r\n        padding-bottom: 0;\r\n        height: 38px;\r\n        line-height: 38px;\r\n\r\n        &.refresh {\r\n          background: #fff;\r\n          border: 1px solid #ddd;\r\n          width: 38px;\r\n          text-align: center;\r\n          font-size: 13px;\r\n          margin-right: 10px;\r\n        }\r\n\r\n        &.submit {\r\n          width: 100px;\r\n        }\r\n      }\r\n    }\r\n\r\n    textarea {\r\n      border-radius: 0;\r\n      height: 100px !important;\r\n      height: 100px;\r\n      font-size: 14px;\r\n      padding: 12.5px;\r\n      resize: none;\r\n\r\n      &:focus {\r\n        outline: 0;\r\n        box-shadow: none;\r\n        border-color: #146ece;\r\n      }\r\n    }\r\n  }\r\n\r\n  .comments {\r\n    padding: 10px 25px 25px 25px;\r\n\r\n    ul {\r\n      list-style: none;\r\n      padding: 0;\r\n      margin: 0;\r\n\r\n      > li {\r\n        background: #fff;\r\n        position: relative;\r\n        margin-bottom: 25px;\r\n        border: 1px solid #ddd;\r\n        padding: 30px 25px 25px 92.5px;\r\n\r\n        .symbol {\r\n          text-transform: uppercase;\r\n          width: 60px;\r\n          height: 60px;\r\n          line-height: 60px;\r\n          font-size: 21px;\r\n          font-weight: bold;\r\n          color: #1259a7;\r\n          text-align: center;\r\n          position: absolute;\r\n          left: 15px;\r\n          top: 25px;\r\n          border: 1px solid #dedede;\r\n        }\r\n\r\n        > .header {\r\n          margin-bottom: 7.5px;\r\n          font-size: 14px;\r\n          position: relative;\r\n\r\n          .writer {\r\n            font-weight: bold;\r\n          }\r\n\r\n          .actions {\r\n            position: absolute;\r\n            right: 0;\r\n            top: 30px;\r\n\r\n            .remove {\r\n              cursor: pointer;\r\n              padding: 0;\r\n              border: 0;\r\n              color: #666;\r\n            }\r\n          }\r\n\r\n          .date {\r\n            float: right;\r\n            margin-left: 10px;\r\n            text-align: right;\r\n          }\r\n        }\r\n\r\n        .message {\r\n          font-size: 14px;\r\n          color: #262626;\r\n          min-height: 21px;\r\n          line-break: anywhere;\r\n        }\r\n\r\n        &:last-child {\r\n          margin-bottom: 0;\r\n        }\r\n      }\r\n    }\r\n\r\n    > .more {\r\n      text-align: center;\r\n      border-top: 1px solid #ddd;\r\n      padding-top: 10px;\r\n      margin-top: 35px;\r\n\r\n      button {\r\n        cursor: pointer;\r\n        border: none;\r\n        background: none;\r\n        padding: 15px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Comment.vue?vue&type=template&id=7db34c18&scoped=true\"\nimport script from \"./Comment.vue?vue&type=script&lang=js\"\nexport * from \"./Comment.vue?vue&type=script&lang=js\"\n\nimport \"./Comment.vue?vue&type=style&index=0&id=7db34c18&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-7db34c18\"\n\nexport default script","<template>\r\n  <div class=\"modal-viewer\" :style=\"[state.slide.trim ? 'padding:0' : '']\">\r\n    <img :src=\"state.slide.url\" @load=\"setStyle($event)\" />\r\n    <div class=\"angle left\" :style=\"state.angleStyle\" @click=\"move('prev')\">\r\n      <img src=\"/img/ico.angle.left.white.png\" />\r\n    </div>\r\n    <div class=\"angle right\" :style=\"state.angleStyle\">\r\n      <img src=\"/img/ico.angle.right.white.png\" @click=\"move('next')\" />\r\n    </div>\r\n    <div class=\"name\">{{ state.slide.category }} {{ state.slide.num }}</div>\r\n    <div class=\"run-btn\" title=\"Append to root\" @click=\"run()\">\r\n      <i class=\"fa fa-upload\"></i>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { reactive } from \"@vue/reactivity\";\r\nimport { onMounted } from \"@vue/runtime-core\";\r\nimport { useStore } from \"vuex\";\r\nexport default {\r\n  props: {\r\n    data: Object,\r\n  },\r\n  setup(props) {\r\n    const store = useStore();\r\n    const state = reactive({\r\n      slide: {\r\n        idx: 0,\r\n        url: \"\",\r\n        category: \"\",\r\n        num: 0,\r\n        list: [],\r\n        trim: false,\r\n      },\r\n      angleStyle: {\r\n        display: \"none\",\r\n        top: 0,\r\n      },\r\n    });\r\n\r\n    const setStyle = (e) => {\r\n      state.angleStyle.display = \"block\";\r\n      state.angleStyle.top = e.target.parentNode.offsetHeight / 2 + \"px\";\r\n    };\r\n\r\n    const run = () => {\r\n      const command = `@root append ${state.slide.category} ${state.slide.num}`;\r\n      store.state.refs.console.commandRef.runCommands(command);\r\n    };\r\n\r\n    const move = (direction) => {\r\n      if (direction === \"next\" && state.slide.idx < state.slide.list.length - 1) {\r\n        state.slide.idx += 1;\r\n      } else if (direction === \"prev\" && state.slide.idx > 0) {\r\n        state.slide.idx -= 1;\r\n      } else {\r\n        return;\r\n      }\r\n\r\n      state.slide.url = state.slide.list[state.slide.idx].imgUrl;\r\n      state.slide.num = state.slide.list[state.slide.idx].num;\r\n      state.slide.trim = state.slide.list[state.slide.idx].trim;\r\n    };\r\n\r\n    onMounted(() => {\r\n      const idx = props.data.idx;\r\n      const list = props.data.list;\r\n      state.slide.idx = idx;\r\n      state.slide.url = list[idx].imgUrl;\r\n      state.slide.num = list[idx].num;\r\n      state.slide.trim = list[idx].trim;\r\n      state.slide.list = list;\r\n      state.slide.category = props.data.category;\r\n    });\r\n\r\n    return { state, run, move, setStyle };\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.modal-viewer {\r\n  text-align: center;\r\n  padding: 25px;\r\n\r\n  img {\r\n    max-width: 100%;\r\n  }\r\n\r\n  .angle {\r\n    position: absolute;\r\n    top: 50%;\r\n    cursor: pointer;\r\n    margin-top: -33.5px;\r\n    display: none;\r\n\r\n    &.left {\r\n      left: -75px;\r\n    }\r\n\r\n    &.right {\r\n      right: -75px;\r\n    }\r\n  }\r\n\r\n  .name {\r\n    position: absolute;\r\n    top: -60px;\r\n    color: #fff;\r\n    text-align: center;\r\n    width: 100%;\r\n    left: 0;\r\n    font-size: 20px;\r\n    padding: 15px 0;\r\n  }\r\n\r\n  .run-btn {\r\n    position: absolute;\r\n    cursor: pointer;\r\n    top: -50px;\r\n    right: 50px;\r\n    margin-right: 1px;\r\n    font-size: 21px;\r\n    line-height: 50px;\r\n    width: 50px;\r\n    color: #fff;\r\n    text-align: center;\r\n    background: rgba(0, 0, 0, 0.21);\r\n    transition: background 0.25s;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Viewer.vue?vue&type=template&id=89e94932&scoped=true\"\nimport script from \"./Viewer.vue?vue&type=script&lang=js\"\nexport * from \"./Viewer.vue?vue&type=script&lang=js\"\n\nimport \"./Viewer.vue?vue&type=style&index=0&id=89e94932&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-89e94932\"\n\nexport default script","import { render } from \"./Ground.vue?vue&type=template&id=13633d1f&scoped=true\"\nimport script from \"./Ground.vue?vue&type=script&lang=js\"\nexport * from \"./Ground.vue?vue&type=script&lang=js\"\n\nimport \"./Ground.vue?vue&type=style&index=0&id=13633d1f&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-13633d1f\"\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=9c6390ea\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { createStore } from \"vuex\";\r\n\r\nexport default createStore({\r\n    state: {\r\n        account: {\r\n            mid: null,\r\n            login: false,\r\n        },\r\n        page: {\r\n            name: null,\r\n            seq: 1,\r\n            maxSeq: 1,\r\n            nid: \"root\",\r\n        },\r\n        refs: {\r\n            console: null,\r\n            webview: null\r\n        },\r\n        toggle: {\r\n            tag: true,\r\n            outline: true\r\n        }\r\n    },\r\n    mutations: {\r\n        setRefs(state, refs) {\r\n            state.refs = refs;\r\n        },\r\n        setPage(state, page) {\r\n            state.page = page;\r\n        },\r\n        setToggle(state, payload) {\r\n            if (payload.tag !== undefined) {\r\n                state.toggle.tag = payload.tag;\r\n            }\r\n\r\n            if (payload.outline !== undefined) {\r\n                state.toggle.outline = payload.outline;\r\n            }\r\n        }\r\n    }\r\n})","import { createApp } from \"vue\";\r\nimport App from \"./App.vue\";\r\nimport store from \"./store\";\r\nimport global from \"./global\";\r\n\r\nif (process.env.NODE_ENV === \"production\") {\r\n    global.site.host = \"publessing.io\";\r\n    global.site.url = \"https://s1.publessing.io\";\r\n}\r\n\r\ncreateApp(App).use(store).mount(\"#app\");","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Home.vue?vue&type=style&index=0&id=725ea076&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Comment.vue?vue&type=style&index=0&id=7db34c18&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Command.vue?vue&type=style&index=0&id=365cc899&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Toggle.vue?vue&type=style&index=0&id=61f5a2f2&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Webview.vue?vue&type=style&index=0&id=6685cc54&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Console.vue?vue&type=style&index=0&id=1a904ef1&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=50eb3e91&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./File.vue?vue&type=style&index=0&id=6820259a&lang=scss&scoped=true\""],"sourceRoot":""}
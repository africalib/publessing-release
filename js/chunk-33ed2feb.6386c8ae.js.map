{"version":3,"sources":["webpack:///./src/components/Community.vue","webpack:///./src/components/Community.vue?ff5a","webpack:///./src/components/Community.vue?c0c0"],"names":["class","ref","for","type","id","placeholder","value","readonly","state","community","message","length","$event","target","disabled","loaded","name","send","email","comment","point","props","callback","Function","load","components","Comment","setup","store","lnbRef","isValidEmail","show","confirm","httpLib","post","then","document","querySelector","catch","focus","account","login","render","__scopeId"],"mappings":"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","file":"js/chunk-33ed2feb.6386c8ae.js","sourcesContent":["<template>\r\n  <div class=\"component-community\">\r\n    <div class=\"parallax\">\r\n      <div class=\"wrapper\">\r\n        <h1>커뮤니티</h1>\r\n        <h2>퍼블레싱은 열려 있습니다. 문의사항이 있으면 언제든지 남겨주세요.</h2>\r\n      </div>\r\n    </div>\r\n    <div class=\"wrapper clearfix\">\r\n      <div class=\"lnb\" ref=\"lnbRef\">\r\n        <ul>\r\n          <li class=\"border-point color-point border-point-hover color-point-hover\">이메일</li>\r\n          <li class=\"border-point-hover color-point-hover\">코멘트</li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"content\">\r\n        <div class=\"email part\">\r\n          <div class=\"sm-title\">이메일</div>\r\n          <div>이메일을 통해 문의사항을 보내주시면 발신 메일로 답변드리겠습니다.</div>\r\n          <div class=\"form-group message\">\r\n            <label for=\"communityMessage\">\r\n              <span>내용 </span>\r\n              <span class=\"color-point\">*</span>\r\n              <span class=\"float-right\">({{ state.community.message.length }} / 1000)</span>\r\n            </label>\r\n            <textarea class=\"form-control focus-border-pointer\" id=\"communityMessage\" placeholder=\"Hey! It's cool!\" @input=\"state.community.message = $event.target.value\" :disabled=\"state.loaded ? false : true\"></textarea>\r\n          </div>\r\n          <div class=\"name form-group\">\r\n            <label for=\"communityName\">이름</label>\r\n            <input type=\"text\" class=\"form-control focus-border-pointer\" id=\"communityName\" placeholder=\"James\" v-model=\"state.community.name\" @keyup.enter=\"send()\" :disabled=\"state.loaded ? false : true\" />\r\n          </div>\r\n          <div class=\"email form-group\">\r\n            <label for=\"communityEmailFrom\">\r\n              <span>발신 메일 </span>\r\n              <span class=\"color-point\">*</span>\r\n            </label>\r\n            <input type=\"email\" class=\"form-control focus-border-pointer\" id=\"communityEmailFrom\" placeholder=\"name@example.com\" v-model=\"state.community.email\" @keyup.enter=\"send()\" :disabled=\"state.loaded ? false : true\" />\r\n          </div>\r\n          <div class=\"email form-group\">\r\n            <label for=\"communityEmailTo\">\r\n              <span>수신 메일</span>\r\n            </label>\r\n            <input type=\"email\" class=\"form-control focus-border-pointer\" id=\"communityEmailTo\" placeholder=\"name@example.com\" value=\"africalibrary21@gmail.com\" readonly />\r\n          </div>\r\n          <div class=\"satisfaction form-group\">\r\n            <label for=\"communitySatisfaction\">\r\n              <span>만족도 </span>\r\n              <span class=\"color-point\">*</span>\r\n              <span class=\"float-right\">{{ state.community.comment }}</span>\r\n            </label>\r\n            <div class=\"icons row\">\r\n              <div class=\"col text-right\">\r\n                <i class=\"fa fa-frown-o\" :class=\"{ 'active color-point': state.community.point === '1', disabled: !state.loaded }\" @click=\"point('1')\"></i>\r\n              </div>\r\n              <div class=\"col text-center\">\r\n                <i class=\"fa fa-meh-o\" :class=\"{ 'active color-point': state.community.point === '2', disabled: !state.loaded }\" @click=\"point('2')\"></i>\r\n              </div>\r\n              <div class=\"col\">\r\n                <i class=\"fa fa-smile-o\" :class=\"{ 'active color-point': state.community.point === '3', disabled: !state.loaded }\" @click=\"point('3')\"></i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"action\">\r\n            <button class=\"btn btn-point\" @click=\"send()\" :disabled=\"state.loaded ? false : true\">\r\n              <span>{{ `발송 ${state.loaded ? \"\" : \"중...\"}` }}</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class=\"comment part\">\r\n          <div class=\"sm-title\">코멘트</div>\r\n          <p>프로그램에 대한 의견을 남겨주시면, 내용을 검토하여 프로그램을 적용하겠습니다.</p>\r\n          <Comment />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { reactive, ref } from \"@vue/reactivity\";\r\nimport { computed, onMounted } from \"@vue/runtime-core\";\r\nimport commLib from \"../libs/commonLib\";\r\nimport httpLib from \"../libs/httpLib\";\r\nimport { useStore } from \"vuex\";\r\nimport Comment from \"../components/Comment\";\r\n\r\nexport default {\r\n  props: {\r\n    callback: Function,\r\n    load: Function,\r\n  },\r\n  components: { Comment },\r\n  setup(props) {\r\n    const store = useStore();\r\n    const state = reactive({\r\n      community: {\r\n        name: \"\",\r\n        email: \"\",\r\n        message: \"\",\r\n        point: \"3\",\r\n        comment: computed(() => {\r\n          if (state.community.point === \"3\") {\r\n            return \"It's Cool\";\r\n          } else if (state.community.point === \"2\") {\r\n            return \"Not bad\";\r\n          } else {\r\n            return \"Bad\";\r\n          }\r\n        }),\r\n      },\r\n\r\n      loaded: true,\r\n    });\r\n\r\n    const lnbRef = ref(null);\r\n\r\n    const point = (point) => {\r\n      if (!state.loaded) {\r\n        return;\r\n      }\r\n\r\n      state.community.point = point;\r\n    };\r\n\r\n    const send = () => {\r\n      if (!state.loaded) {\r\n        return;\r\n      }\r\n\r\n      if (!state.community.message) {\r\n        commLib.message.show(\"warning\", \"내용을 입력해주세요.\");\r\n        document.querySelector(\"#communityMessage\").focus();\r\n      } else if (!state.community.email) {\r\n        commLib.message.show(\"warning\", \"이메일 주소를 입력해주세요.\");\r\n        document.querySelector(\"#communityEmailFrom\").focus();\r\n      } else if (!commLib.isValidEmail(state.community.email)) {\r\n        commLib.message.show(\"warning\", \"이메일 주소의 형식이 올바르지 않습니다.\");\r\n        document.querySelector(\"#communityEmailFrom\").focus();\r\n      } else if (state.community.message.length > 1000) {\r\n        commLib.message.show(\"warning\", \"메시지는 1000자를 넘을 수 없습니다.\");\r\n      } else if (state.community.name && state.community.name.length > 50) {\r\n        commLib.message.show(\"warning\", \"이름은 50자를 넘을 수 없습니다.\");\r\n      } else if (state.community.email.length > 100) {\r\n        commLib.message.show(\"warning\", \"이메일 주소는 100자를 넘을 수 없습니다.\");\r\n      } else if (confirm(\"이메일을 발송하시겠습니까?\")) {\r\n        state.loaded = false;\r\n\r\n        httpLib\r\n          .post(\"/api/email\", state.community)\r\n          .then(() => {\r\n            commLib.message.show(\"success\", \"이메일을 발송하였습니다.\");\r\n            state.loaded = true;\r\n            state.community.name = \"\";\r\n            state.community.email = \"\";\r\n            state.community.message = \"\";\r\n            state.community.point = \"3\";\r\n            document.querySelector(\"#communityMessage\").value = \"\";\r\n          })\r\n          .catch(() => {\r\n            commLib.message.show(\"error\", \"오류가 있습니다.\");\r\n            state.loaded = true;\r\n          });\r\n      }\r\n    };\r\n\r\n    if (store.state.account.login) {\r\n      state.community.email = store.state.account.email;\r\n    }\r\n\r\n    onMounted(() => {\r\n      if (typeof props.load === \"function\") {\r\n        props.load(lnbRef.value);\r\n      }\r\n    });\r\n\r\n    return { store, state, lnbRef, point, send };\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.component-community {\r\n  .parallax:before {\r\n    background-image: url(/img/post-impressionist-1424183_1280.jpg);\r\n  }\r\n\r\n  .part {\r\n    &.comment {\r\n      p {\r\n        margin-bottom: 20px;\r\n      }\r\n    }\r\n\r\n    &.email {\r\n      .message {\r\n        margin:35px 0;\r\n      }\r\n\r\n      .email {\r\n        margin: 35px 0;\r\n      }\r\n\r\n      .satisfaction {\r\n        .icons {\r\n          margin-top: 25px;\r\n\r\n          i {\r\n            cursor: pointer;\r\n            padding: 5px;\r\n            font-size: 42px;\r\n            opacity: 0.25;\r\n\r\n            &:hover {\r\n              opacity: 0.5;\r\n            }\r\n\r\n            &.active {\r\n              opacity: 1;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      label {\r\n        display: block;\r\n        font-size: 14px;\r\n      }\r\n\r\n      textarea {\r\n        border-radius: 0;\r\n        height: 100px;\r\n        width: 100%;\r\n        resize: none;\r\n        padding: 15px;\r\n        box-shadow: none;\r\n      }\r\n\r\n      input {\r\n        border-radius: 0;\r\n        height: 50px;\r\n        box-shadow: none;\r\n      }\r\n\r\n      .action {\r\n        padding-top: 15px;\r\n\r\n        button {\r\n          width: 100%;\r\n          border-radius: 0;\r\n          height: 50px;\r\n          font-size: 13px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Community.vue?vue&type=template&id=16e73f3f&scoped=true\"\nimport script from \"./Community.vue?vue&type=script&lang=js\"\nexport * from \"./Community.vue?vue&type=script&lang=js\"\n\nimport \"./Community.vue?vue&type=style&index=0&id=16e73f3f&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-16e73f3f\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Community.vue?vue&type=style&index=0&id=16e73f3f&lang=scss&scoped=true\""],"sourceRoot":""}